<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Data Frames | An Introduction to R and Python For Data Analysis: A Side By Side Approach</title>
  <meta name="description" content="Chapter 8 Data Frames | An Introduction to R and Python For Data Analysis: A Side By Side Approach" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Data Frames | An Introduction to R and Python For Data Analysis: A Side By Side Approach" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="tbrown122387/r_and_python_book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Data Frames | An Introduction to R and Python For Data Analysis: A Side By Side Approach" />
  
  
  

<meta name="author" content="Taylor R. Brown" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="categorical-data.html"/>
<link rel="next" href="input-and-output.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">An Introduction to R and Python For Data Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#a-sample-course"><i class="fa fa-check"></i>A Sample Course</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#licenses"><i class="fa fa-check"></i>License(s)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#about-this-book"><i class="fa fa-check"></i>About this book</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#conventions"><i class="fa fa-check"></i>Conventions</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#installing-the-required-software"><i class="fa fa-check"></i>Installing the Required Software</a>
<ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#installing-r-and-rstudio"><i class="fa fa-check"></i>Installing R (and RStudio)</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#installing-python-by-installing-anaconda"><i class="fa fa-check"></i>Installing Python by Installing Anaconda</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Introducing the Basics</b></span></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#hello-world-in-r"><i class="fa fa-check"></i><b>1.1</b> Hello World in R</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#hello-world-in-python"><i class="fa fa-check"></i><b>1.2</b> Hello World in Python</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#getting-help"><i class="fa fa-check"></i><b>1.3</b> Getting Help</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="intro.html"><a href="intro.html#reading-documentation"><i class="fa fa-check"></i><b>1.3.1</b> Reading Documentation</a></li>
<li class="chapter" data-level="1.3.2" data-path="intro.html"><a href="intro.html#understanding-file-paths"><i class="fa fa-check"></i><b>1.3.2</b> Understanding File Paths</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basic-types.html"><a href="basic-types.html"><i class="fa fa-check"></i><b>2</b> Basic Types</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basic-types.html"><a href="basic-types.html#basic-types-in-python"><i class="fa fa-check"></i><b>2.1</b> Basic Types In Python</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="basic-types.html"><a href="basic-types.html#type-conversions-in-python"><i class="fa fa-check"></i><b>2.1.1</b> Type Conversions in Python</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="basic-types.html"><a href="basic-types.html#basic-types-in-r"><i class="fa fa-check"></i><b>2.2</b> Basic Types In R</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="basic-types.html"><a href="basic-types.html#type-conversions-in-r"><i class="fa fa-check"></i><b>2.2.1</b> Type Conversions in R</a></li>
<li class="chapter" data-level="2.2.2" data-path="basic-types.html"><a href="basic-types.html#rs-simplification"><i class="fa fa-check"></i><b>2.2.2</b> R’s Simplification</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="basic-types.html"><a href="basic-types.html#exercises"><i class="fa fa-check"></i><b>2.3</b> Exercises</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="basic-types.html"><a href="basic-types.html#r-questions"><i class="fa fa-check"></i><b>2.3.1</b> R Questions</a></li>
<li class="chapter" data-level="2.3.2" data-path="basic-types.html"><a href="basic-types.html#python-questions"><i class="fa fa-check"></i><b>2.3.2</b> Python Questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html"><i class="fa fa-check"></i><b>3</b> R <code>vector</code>s versus Numpy <code>array</code>s and Pandas’ <code>Series</code></a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#overview-of-r"><i class="fa fa-check"></i><b>3.1</b> Overview of R</a></li>
<li class="chapter" data-level="3.2" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#overview-of-python"><i class="fa fa-check"></i><b>3.2</b> Overview of Python</a></li>
<li class="chapter" data-level="3.3" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#vectorization-in-r"><i class="fa fa-check"></i><b>3.3</b> Vectorization in R</a></li>
<li class="chapter" data-level="3.4" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#vectorization-in-python"><i class="fa fa-check"></i><b>3.4</b> Vectorization in Python</a></li>
<li class="chapter" data-level="3.5" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#indexing-vectors-in-r"><i class="fa fa-check"></i><b>3.5</b> Indexing Vectors in R</a></li>
<li class="chapter" data-level="3.6" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#indexing-numpy-arrays"><i class="fa fa-check"></i><b>3.6</b> Indexing Numpy arrays</a></li>
<li class="chapter" data-level="3.7" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#indexing-pandas-series"><i class="fa fa-check"></i><b>3.7</b> Indexing Pandas’ Series</a></li>
<li class="chapter" data-level="3.8" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#some-gotchas"><i class="fa fa-check"></i><b>3.8</b> Some Gotchas</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#shallow-versus-deep-copies"><i class="fa fa-check"></i><b>3.8.1</b> Shallow versus Deep Copies</a></li>
<li class="chapter" data-level="3.8.2" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#how-r-and-python-handle-missing-values"><i class="fa fa-check"></i><b>3.8.2</b> How R and Python Handle Missing Values</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#exercises-1"><i class="fa fa-check"></i><b>3.9</b> Exercises</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#r-questions-1"><i class="fa fa-check"></i><b>3.9.1</b> R Questions</a></li>
<li class="chapter" data-level="3.9.2" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#python-questions-1"><i class="fa fa-check"></i><b>3.9.2</b> Python Questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="numpy-ndarrays-versus-rs-matrix-and-array-types.html"><a href="numpy-ndarrays-versus-rs-matrix-and-array-types.html"><i class="fa fa-check"></i><b>4</b> Numpy <code>ndarray</code>s Versus R’s <code>matrix</code> and <code>array</code> Types</a>
<ul>
<li class="chapter" data-level="4.1" data-path="numpy-ndarrays-versus-rs-matrix-and-array-types.html"><a href="numpy-ndarrays-versus-rs-matrix-and-array-types.html#numpy-ndarrays-in-python"><i class="fa fa-check"></i><b>4.1</b> Numpy <code>ndarray</code>s In Python</a></li>
<li class="chapter" data-level="4.2" data-path="numpy-ndarrays-versus-rs-matrix-and-array-types.html"><a href="numpy-ndarrays-versus-rs-matrix-and-array-types.html#the-matrix-and-array-classes-in-r"><i class="fa fa-check"></i><b>4.2</b> The <code>matrix</code> and <code>array</code> classes in R</a></li>
<li class="chapter" data-level="4.3" data-path="numpy-ndarrays-versus-rs-matrix-and-array-types.html"><a href="numpy-ndarrays-versus-rs-matrix-and-array-types.html#exercises-2"><i class="fa fa-check"></i><b>4.3</b> Exercises</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="numpy-ndarrays-versus-rs-matrix-and-array-types.html"><a href="numpy-ndarrays-versus-rs-matrix-and-array-types.html#r-questions-2"><i class="fa fa-check"></i><b>4.3.1</b> R Questions</a></li>
<li class="chapter" data-level="4.3.2" data-path="numpy-ndarrays-versus-rs-matrix-and-array-types.html"><a href="numpy-ndarrays-versus-rs-matrix-and-array-types.html#python-questions-2"><i class="fa fa-check"></i><b>4.3.2</b> Python Questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="rs-lists-versus-pythons-lists-and-dicts.html"><a href="rs-lists-versus-pythons-lists-and-dicts.html"><i class="fa fa-check"></i><b>5</b> R’s <code>list</code>s Versus Python’s <code>list</code>s and <code>dict</code>s</a>
<ul>
<li class="chapter" data-level="5.1" data-path="rs-lists-versus-pythons-lists-and-dicts.html"><a href="rs-lists-versus-pythons-lists-and-dicts.html#lists-in-r"><i class="fa fa-check"></i><b>5.1</b> <code>list</code>s In R</a></li>
<li class="chapter" data-level="5.2" data-path="rs-lists-versus-pythons-lists-and-dicts.html"><a href="rs-lists-versus-pythons-lists-and-dicts.html#lists-in-python"><i class="fa fa-check"></i><b>5.2</b> <code>list</code>s In Python</a></li>
<li class="chapter" data-level="5.3" data-path="rs-lists-versus-pythons-lists-and-dicts.html"><a href="rs-lists-versus-pythons-lists-and-dicts.html#dictionaries-in-python"><i class="fa fa-check"></i><b>5.3</b> Dictionaries In Python</a></li>
<li class="chapter" data-level="5.4" data-path="rs-lists-versus-pythons-lists-and-dicts.html"><a href="rs-lists-versus-pythons-lists-and-dicts.html#exercises-3"><i class="fa fa-check"></i><b>5.4</b> Exercises</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="rs-lists-versus-pythons-lists-and-dicts.html"><a href="rs-lists-versus-pythons-lists-and-dicts.html#r-questions-3"><i class="fa fa-check"></i><b>5.4.1</b> R Questions</a></li>
<li class="chapter" data-level="5.4.2" data-path="rs-lists-versus-pythons-lists-and-dicts.html"><a href="rs-lists-versus-pythons-lists-and-dicts.html#python-questions-3"><i class="fa fa-check"></i><b>5.4.2</b> Python Questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>6</b> Functions</a>
<ul>
<li class="chapter" data-level="6.1" data-path="functions.html"><a href="functions.html#defining-r-functions"><i class="fa fa-check"></i><b>6.1</b> Defining R Functions</a></li>
<li class="chapter" data-level="6.2" data-path="functions.html"><a href="functions.html#defining-python-functions"><i class="fa fa-check"></i><b>6.2</b> Defining Python Functions</a></li>
<li class="chapter" data-level="6.3" data-path="functions.html"><a href="functions.html#more-details-on-rs-user-defined-functions"><i class="fa fa-check"></i><b>6.3</b> More Details On R’s User-Defined Functions</a></li>
<li class="chapter" data-level="6.4" data-path="functions.html"><a href="functions.html#more-details-on-pythons-user-defined-functions"><i class="fa fa-check"></i><b>6.4</b> More details on Python’s user-defined functions</a></li>
<li class="chapter" data-level="6.5" data-path="functions.html"><a href="functions.html#function-scope-in-r"><i class="fa fa-check"></i><b>6.5</b> Function Scope in R</a></li>
<li class="chapter" data-level="6.6" data-path="functions.html"><a href="functions.html#function-scope-in-python"><i class="fa fa-check"></i><b>6.6</b> Function Scope in Python</a></li>
<li class="chapter" data-level="6.7" data-path="functions.html"><a href="functions.html#modifying-a-functions-arguments"><i class="fa fa-check"></i><b>6.7</b> Modifying a Function’s Arguments</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="functions.html"><a href="functions.html#passing-by-value-in-r"><i class="fa fa-check"></i><b>6.7.1</b> Passing By Value In R</a></li>
<li class="chapter" data-level="6.7.2" data-path="functions.html"><a href="functions.html#passing-by-assignment-in-python"><i class="fa fa-check"></i><b>6.7.2</b> Passing By Assignment In Python</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="functions.html"><a href="functions.html#accessing-and-modifying-captured-variables"><i class="fa fa-check"></i><b>6.8</b> Accessing and Modifying Captured Variables</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="functions.html"><a href="functions.html#accessing-captured-variables-in-r"><i class="fa fa-check"></i><b>6.8.1</b> Accessing Captured Variables in R</a></li>
<li class="chapter" data-level="6.8.2" data-path="functions.html"><a href="functions.html#accessing-captured-variables-in-python"><i class="fa fa-check"></i><b>6.8.2</b> Accessing Captured Variables in Python</a></li>
<li class="chapter" data-level="6.8.3" data-path="functions.html"><a href="functions.html#modifying-captured-variables-in-r"><i class="fa fa-check"></i><b>6.8.3</b> Modifying Captured Variables In R</a></li>
<li class="chapter" data-level="6.8.4" data-path="functions.html"><a href="functions.html#modifying-captured-variables-in-python"><i class="fa fa-check"></i><b>6.8.4</b> Modifying Captured Variables In Python</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="functions.html"><a href="functions.html#exercises-4"><i class="fa fa-check"></i><b>6.9</b> Exercises</a>
<ul>
<li class="chapter" data-level="6.9.1" data-path="functions.html"><a href="functions.html#r-questions-4"><i class="fa fa-check"></i><b>6.9.1</b> R Questions</a></li>
<li class="chapter" data-level="6.9.2" data-path="functions.html"><a href="functions.html#python-questions-4"><i class="fa fa-check"></i><b>6.9.2</b> Python Questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="categorical-data.html"><a href="categorical-data.html"><i class="fa fa-check"></i><b>7</b> Categorical Data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="categorical-data.html"><a href="categorical-data.html#factors-in-r"><i class="fa fa-check"></i><b>7.1</b> <code>factor</code>s in R</a></li>
<li class="chapter" data-level="7.2" data-path="categorical-data.html"><a href="categorical-data.html#two-options-for-categorical-data-in-pandas"><i class="fa fa-check"></i><b>7.2</b> Two Options for Categorical Data in Pandas</a></li>
<li class="chapter" data-level="7.3" data-path="categorical-data.html"><a href="categorical-data.html#exercises-5"><i class="fa fa-check"></i><b>7.3</b> Exercises</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="categorical-data.html"><a href="categorical-data.html#r-questions-5"><i class="fa fa-check"></i><b>7.3.1</b> R Questions</a></li>
<li class="chapter" data-level="7.3.2" data-path="categorical-data.html"><a href="categorical-data.html#python-questions-5"><i class="fa fa-check"></i><b>7.3.2</b> Python Questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-frames.html"><a href="data-frames.html"><i class="fa fa-check"></i><b>8</b> Data Frames</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-frames.html"><a href="data-frames.html#data-frames-in-r"><i class="fa fa-check"></i><b>8.1</b> Data Frames in R</a></li>
<li class="chapter" data-level="8.2" data-path="data-frames.html"><a href="data-frames.html#data-frames-in-python"><i class="fa fa-check"></i><b>8.2</b> Data Frames in Python</a></li>
</ul></li>
<li class="part"><span><b>II Common Tasks and Patterns</b></span></li>
<li class="chapter" data-level="9" data-path="input-and-output.html"><a href="input-and-output.html"><i class="fa fa-check"></i><b>9</b> Input and Output</a>
<ul>
<li class="chapter" data-level="9.1" data-path="input-and-output.html"><a href="input-and-output.html#general-input-considerations"><i class="fa fa-check"></i><b>9.1</b> General Input Considerations</a></li>
<li class="chapter" data-level="9.2" data-path="input-and-output.html"><a href="input-and-output.html#reading-in-text-files-with-r"><i class="fa fa-check"></i><b>9.2</b> Reading in Text Files with R</a></li>
<li class="chapter" data-level="9.3" data-path="input-and-output.html"><a href="input-and-output.html#reading-in-text-files-with-pandas"><i class="fa fa-check"></i><b>9.3</b> Reading in Text Files with Pandas</a></li>
<li class="chapter" data-level="9.4" data-path="input-and-output.html"><a href="input-and-output.html#saving-data-in-r"><i class="fa fa-check"></i><b>9.4</b> Saving Data in R</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="input-and-output.html"><a href="input-and-output.html#writing-out-tabular-plain-text-data-in-r"><i class="fa fa-check"></i><b>9.4.1</b> Writing Out Tabular Plain Text Data in R</a></li>
<li class="chapter" data-level="9.4.2" data-path="input-and-output.html"><a href="input-and-output.html#serialization-in-r"><i class="fa fa-check"></i><b>9.4.2</b> Serialization in R</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="input-and-output.html"><a href="input-and-output.html#saving-data-in-python"><i class="fa fa-check"></i><b>9.5</b> Saving Data in Python</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="input-and-output.html"><a href="input-and-output.html#writing-out-tabular-plain-text-data-in-python"><i class="fa fa-check"></i><b>9.5.1</b> Writing Out Tabular Plain Text Data in Python</a></li>
<li class="chapter" data-level="9.5.2" data-path="input-and-output.html"><a href="input-and-output.html#serialization-in-python"><i class="fa fa-check"></i><b>9.5.2</b> Serialization in Python</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="using-third-party-code.html"><a href="using-third-party-code.html"><i class="fa fa-check"></i><b>10</b> Using Third-Party Code</a>
<ul>
<li class="chapter" data-level="10.1" data-path="using-third-party-code.html"><a href="using-third-party-code.html#installing-packages-in-r"><i class="fa fa-check"></i><b>10.1</b> Installing Packages In R</a></li>
<li class="chapter" data-level="10.2" data-path="using-third-party-code.html"><a href="using-third-party-code.html#installing-packages-in-python"><i class="fa fa-check"></i><b>10.2</b> Installing Packages In Python</a></li>
<li class="chapter" data-level="10.3" data-path="using-third-party-code.html"><a href="using-third-party-code.html#loading-packages-in-r"><i class="fa fa-check"></i><b>10.3</b> Loading Packages In R</a></li>
<li class="chapter" data-level="10.4" data-path="using-third-party-code.html"><a href="using-third-party-code.html#loading-packages-in-python"><i class="fa fa-check"></i><b>10.4</b> Loading Packages In Python</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="using-third-party-code.html"><a href="using-third-party-code.html#importing-examples"><i class="fa fa-check"></i><b>10.4.1</b> <code>import</code>ing Examples</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="control-flow.html"><a href="control-flow.html"><i class="fa fa-check"></i><b>11</b> Control Flow</a>
<ul>
<li class="chapter" data-level="11.1" data-path="control-flow.html"><a href="control-flow.html#conditional-logic"><i class="fa fa-check"></i><b>11.1</b> Conditional Logic</a></li>
<li class="chapter" data-level="11.2" data-path="control-flow.html"><a href="control-flow.html#loops"><i class="fa fa-check"></i><b>11.2</b> Loops</a></li>
<li class="chapter" data-level="11.3" data-path="control-flow.html"><a href="control-flow.html#a-longer-example"><i class="fa fa-check"></i><b>11.3</b> A Longer Example</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="control-flow.html"><a href="control-flow.html#description-of-accept-reject-sampling"><i class="fa fa-check"></i><b>11.3.1</b> Description of Accept-Reject Sampling</a></li>
<li class="chapter" data-level="11.3.2" data-path="control-flow.html"><a href="control-flow.html#a-specific-example"><i class="fa fa-check"></i><b>11.3.2</b> A Specific Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="reshaping-and-combining-data-sets.html"><a href="reshaping-and-combining-data-sets.html"><i class="fa fa-check"></i><b>12</b> Reshaping and Combining Data Sets</a>
<ul>
<li class="chapter" data-level="12.1" data-path="reshaping-and-combining-data-sets.html"><a href="reshaping-and-combining-data-sets.html#ordering-and-sorting-data"><i class="fa fa-check"></i><b>12.1</b> Ordering and Sorting Data</a></li>
<li class="chapter" data-level="12.2" data-path="reshaping-and-combining-data-sets.html"><a href="reshaping-and-combining-data-sets.html#stacking-data-sets-and-placing-them-shoulder-to-shoulder"><i class="fa fa-check"></i><b>12.2</b> Stacking Data Sets and Placing Them Shoulder to Shoulder</a></li>
<li class="chapter" data-level="12.3" data-path="reshaping-and-combining-data-sets.html"><a href="reshaping-and-combining-data-sets.html#merging-or-joining-data-sets"><i class="fa fa-check"></i><b>12.3</b> Merging or Joining Data Sets</a></li>
<li class="chapter" data-level="12.4" data-path="reshaping-and-combining-data-sets.html"><a href="reshaping-and-combining-data-sets.html#long-versus-wide-data"><i class="fa fa-check"></i><b>12.4</b> Long Versus Wide Data</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="reshaping-and-combining-data-sets.html"><a href="reshaping-and-combining-data-sets.html#long-versus-wide-in-r"><i class="fa fa-check"></i><b>12.4.1</b> Long Versus Wide in R</a></li>
<li class="chapter" data-level="12.4.2" data-path="reshaping-and-combining-data-sets.html"><a href="reshaping-and-combining-data-sets.html#long-versus-wide-in-python"><i class="fa fa-check"></i><b>12.4.2</b> Long Versus Wide in Python</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>13</b> Visualization</a>
<ul>
<li class="chapter" data-level="13.1" data-path="visualization.html"><a href="visualization.html#base-r-plotting"><i class="fa fa-check"></i><b>13.1</b> Base R Plotting</a></li>
<li class="chapter" data-level="13.2" data-path="visualization.html"><a href="visualization.html#plotting-with-ggplot2"><i class="fa fa-check"></i><b>13.2</b> Plotting with <code>ggplot2</code></a></li>
<li class="chapter" data-level="13.3" data-path="visualization.html"><a href="visualization.html#plotting-with-matplotlib"><i class="fa fa-check"></i><b>13.3</b> Plotting with Matplotlib</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="working-with-text-data.html"><a href="working-with-text-data.html"><i class="fa fa-check"></i><b>14</b> Working With Text Data</a></li>
<li class="chapter" data-level="15" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>15</b> Dates and Times</a></li>
<li class="chapter" data-level="16" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html"><i class="fa fa-check"></i><b>16</b> Running Scripts from the Command Line</a></li>
<li class="part"><span><b>III Programming Styles</b></span></li>
<li class="chapter" data-level="17" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html"><i class="fa fa-check"></i><b>17</b> An Introduction to Object-Oriented Programming</a>
<ul>
<li class="chapter" data-level="17.1" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html#oop-in-python"><i class="fa fa-check"></i><b>17.1</b> OOP In Python</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html#overview"><i class="fa fa-check"></i><b>17.1.1</b> Overview</a></li>
<li class="chapter" data-level="17.1.2" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html#a-first-example"><i class="fa fa-check"></i><b>17.1.2</b> A First Example</a></li>
<li class="chapter" data-level="17.1.3" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html#adding-inheritance"><i class="fa fa-check"></i><b>17.1.3</b> Adding Inheritance</a></li>
<li class="chapter" data-level="17.1.4" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html#adding-in-composition"><i class="fa fa-check"></i><b>17.1.4</b> Adding in Composition</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html#oop-in-r"><i class="fa fa-check"></i><b>17.2</b> OOP In R</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html#s3-objects-the-big-picture"><i class="fa fa-check"></i><b>17.2.1</b> S3 objects: The Big Picture</a></li>
<li class="chapter" data-level="17.2.2" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html#using-s3-objects"><i class="fa fa-check"></i><b>17.2.2</b> Using S3 objects</a></li>
<li class="chapter" data-level="17.2.3" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html#creating-s3-objects"><i class="fa fa-check"></i><b>17.2.3</b> Creating S3 objects</a></li>
<li class="chapter" data-level="17.2.4" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html#s4-objects-the-big-picture"><i class="fa fa-check"></i><b>17.2.4</b> S4 objects: The Big Picture</a></li>
<li class="chapter" data-level="17.2.5" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html#using-s4-objects"><i class="fa fa-check"></i><b>17.2.5</b> Using S4 objects</a></li>
<li class="chapter" data-level="17.2.6" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html#creating-s4-objects"><i class="fa fa-check"></i><b>17.2.6</b> Creating S4 objects</a></li>
<li class="chapter" data-level="17.2.7" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html#reference-classes-the-big-picture"><i class="fa fa-check"></i><b>17.2.7</b> Reference Classes: The Big Picture</a></li>
<li class="chapter" data-level="17.2.8" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html#creating-reference-classes"><i class="fa fa-check"></i><b>17.2.8</b> Creating Reference Classes</a></li>
<li class="chapter" data-level="17.2.9" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html#creating-r6-classes"><i class="fa fa-check"></i><b>17.2.9</b> Creating R6 Classes</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="an-introduction-to-object-oriented-programming.html"><a href="an-introduction-to-object-oriented-programming.html#exercises-6"><i class="fa fa-check"></i><b>17.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="functional-programming.html"><a href="functional-programming.html"><i class="fa fa-check"></i><b>18</b> Functional Programming</a>
<ul>
<li class="chapter" data-level="18.1" data-path="functional-programming.html"><a href="functional-programming.html#functions-as-function-inputs-in-r"><i class="fa fa-check"></i><b>18.1</b> Functions as Function Inputs in R</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="functional-programming.html"><a href="functional-programming.html#sapply-and-vapply"><i class="fa fa-check"></i><b>18.1.1</b> <code>sapply()</code> and <code>vapply()</code></a></li>
<li class="chapter" data-level="18.1.2" data-path="functional-programming.html"><a href="functional-programming.html#lapply"><i class="fa fa-check"></i><b>18.1.2</b> <code>lapply()</code></a></li>
<li class="chapter" data-level="18.1.3" data-path="functional-programming.html"><a href="functional-programming.html#apply"><i class="fa fa-check"></i><b>18.1.3</b> <code>apply()</code></a></li>
<li class="chapter" data-level="18.1.4" data-path="functional-programming.html"><a href="functional-programming.html#tapply"><i class="fa fa-check"></i><b>18.1.4</b> <code>tapply()</code></a></li>
<li class="chapter" data-level="18.1.5" data-path="functional-programming.html"><a href="functional-programming.html#mapply"><i class="fa fa-check"></i><b>18.1.5</b> <code>mapply()</code></a></li>
<li class="chapter" data-level="18.1.6" data-path="functional-programming.html"><a href="functional-programming.html#reduce-and-do.call"><i class="fa fa-check"></i><b>18.1.6</b> <code>Reduce()</code> and <code>do.call()</code></a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="functional-programming.html"><a href="functional-programming.html#another-example-in-r"><i class="fa fa-check"></i><b>18.2</b> Another Example in R</a></li>
<li class="chapter" data-level="18.3" data-path="functional-programming.html"><a href="functional-programming.html#functions-as-function-inputs-in-base-python"><i class="fa fa-check"></i><b>18.3</b> Functions as Function Inputs in Base Python</a>
<ul>
<li class="chapter" data-level="18.3.1" data-path="functional-programming.html"><a href="functional-programming.html#map"><i class="fa fa-check"></i><b>18.3.1</b> <code>map()</code></a></li>
<li class="chapter" data-level="18.3.2" data-path="functional-programming.html"><a href="functional-programming.html#filter"><i class="fa fa-check"></i><b>18.3.2</b> <code>filter()</code></a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="functional-programming.html"><a href="functional-programming.html#functions-as-function-inputs-in-numpy"><i class="fa fa-check"></i><b>18.4</b> Functions as Function Inputs in Numpy</a></li>
<li class="chapter" data-level="18.5" data-path="functional-programming.html"><a href="functional-programming.html#functional-methods-in-pandas"><i class="fa fa-check"></i><b>18.5</b> Functional Methods in Pandas</a></li>
<li class="chapter" data-level="18.6" data-path="functional-programming.html"><a href="functional-programming.html#functions-as-function-inputs-miscellany"><i class="fa fa-check"></i><b>18.6</b> Functions as Function Inputs (miscellany)</a></li>
<li class="chapter" data-level="18.7" data-path="functional-programming.html"><a href="functional-programming.html#functions-as-function-outputs-in-r"><i class="fa fa-check"></i><b>18.7</b> Functions as Function Outputs in R</a></li>
<li class="chapter" data-level="18.8" data-path="functional-programming.html"><a href="functional-programming.html#functions-as-function-outputs-in-python"><i class="fa fa-check"></i><b>18.8</b> Functions as Function Outputs in Python</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">An Introduction to R and Python For Data Analysis: A Side By Side Approach</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-frames" class="section level1" number="8">
<h1><span class="header-section-number">Chapter 8</span> Data Frames</h1>
<p>The rectangular array (e.g. an Excel spreadsheet ) of information is what many think of when they hear the word “data.” Each column contains elements of a shared data type, and these data types can vary from column to column.</p>
<p>There is a type for this in R and Python: a data frame. It might even be the most common way that data is stored in both R and Python programs because many functions that read in data from an external source return objects of this type (e.g. <code>read.csv()</code> in R and <code>pd.read_csv()</code> in Python).</p>
<p>R and Python’s data frames have a number of things in common:</p>
<ol style="list-style-type: decimal">
<li>each column must be the same length as all other columns,</li>
<li>each column’s elements will all have the same type,</li>
<li>elements in any rows can have different types,</li>
<li>columns and rows can be named in different ways,</li>
<li>there are many ways to get and set different subsets of data, and</li>
<li>when reading in data, the same sorts of difficulties arise in both languages.</li>
</ol>
<div id="data-frames-in-r" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Data Frames in R</h2>
<p>Let’s consider as an example Fisher’s “Iris” data set <span class="citation">(<a href="#ref-misc_iris_53" role="doc-biblioref">Fisher 1988</a>)</span>. We will read this data set in from a comma separated file (more information on input/output can be found in chapter <a href="input-and-output.html#input-and-output">9</a>). This file can be downloaded from this link: <a href="https://archive.ics.uci.edu/ml/datasets/iris">https://archive.ics.uci.edu/ml/datasets/iris</a>.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="data-frames.html#cb108-1" aria-hidden="true" tabindex="-1"></a>irisData <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/iris.csv&quot;</span>, <span class="at">header =</span> F)</span>
<span id="cb108-2"><a href="data-frames.html#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(irisData, <span class="dv">3</span>)</span>
<span id="cb108-3"><a href="data-frames.html#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="do">##    V1  V2  V3  V4          V5</span></span>
<span id="cb108-4"><a href="data-frames.html#cb108-4" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 5.1 3.5 1.4 0.2 Iris-setosa</span></span>
<span id="cb108-5"><a href="data-frames.html#cb108-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 4.9 3.0 1.4 0.2 Iris-setosa</span></span>
<span id="cb108-6"><a href="data-frames.html#cb108-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 4.7 3.2 1.3 0.2 Iris-setosa</span></span>
<span id="cb108-7"><a href="data-frames.html#cb108-7" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(irisData)</span>
<span id="cb108-8"><a href="data-frames.html#cb108-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;list&quot;</span></span>
<span id="cb108-9"><a href="data-frames.html#cb108-9" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(irisData) <span class="co"># we&#39;ll talk more about classes later</span></span>
<span id="cb108-10"><a href="data-frames.html#cb108-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;data.frame&quot;</span></span>
<span id="cb108-11"><a href="data-frames.html#cb108-11" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(irisData)</span>
<span id="cb108-12"><a href="data-frames.html#cb108-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 150   5</span></span>
<span id="cb108-13"><a href="data-frames.html#cb108-13" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(irisData)</span>
<span id="cb108-14"><a href="data-frames.html#cb108-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 150</span></span>
<span id="cb108-15"><a href="data-frames.html#cb108-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(irisData)</span>
<span id="cb108-16"><a href="data-frames.html#cb108-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5</span></span></code></pre></div>
<p>There are some exceptions, but most data sets can be stored as a <code>data.frame</code>. These kinds of two-dimensional data sets are quite common. Any particular row is often an observation on one experimental unit (e.g. person, place or thing). Looking at a particular column gives you one kind of measurement stored for all observations.</p>
<div class="rmd-caution">
<p>Do not rely on the default arguments of <code>read.csv()</code> or <code>read.table()</code>! After you read in a data frame, always check to make sure that</p>
<ol style="list-style-type: decimal">
<li>the number of columns is correct because the correct column <em>separator</em> was used (c.f. <code>sep=</code>),</li>
<li>column names were parsed correctly, if there were some in the raw text file,</li>
<li>the first row of data wasn’t used as a column name sequence, if there weren’t column names in the text file, and</li>
<li>the last few rows aren’t reading in empty spaces</li>
<li>character columns are read in correctly (c.f. <code>stringsAsFactors=</code>), and</li>
<li>special characters signifying missing data were correctly identified (c.f. <code>na.strings=</code>).</li>
</ol>
</div>
<p><a href="https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Data-frame-objects">A <code>data.frame</code> is a special case of a <code>list</code></a>. Every element of the list is a column. Columns can be <code>vector</code>s or <code>factor</code>s, and they can all be of a different type. This is one of the biggest differences between data frames and <code>matrix</code>s. They are both two-dimensional, but a <code>matrix</code> needs elements to be all the same type. Unlike a general <code>list</code>, a <code>data.frame</code> requires all of its columns to have the same number of elements. In other words, the <code>data.frame</code> is not a “<em>ragged</em>” list.</p>
<p>Often times you will need to extract pieces of information from a <code>data.frame</code>. This can be done in many ways. If the columns have names, you can use the <code>$</code> operator to access a single column. Accessing a single column might be followed up by creating a new vector. You can also use the <code>[</code> operator to access multiple columns by name.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="data-frames.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(irisData) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;sepal.length&quot;</span>, <span class="st">&quot;sepal.width&quot;</span>, </span>
<span id="cb109-2"><a href="data-frames.html#cb109-2" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;petal.length&quot;</span>,<span class="st">&quot;petal.width&quot;</span>, </span>
<span id="cb109-3"><a href="data-frames.html#cb109-3" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;species&quot;</span>)</span>
<span id="cb109-4"><a href="data-frames.html#cb109-4" aria-hidden="true" tabindex="-1"></a>firstCol <span class="ot">&lt;-</span> irisData<span class="sc">$</span>sepal.length</span>
<span id="cb109-5"><a href="data-frames.html#cb109-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(firstCol)</span>
<span id="cb109-6"><a href="data-frames.html#cb109-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5.1 4.9 4.7 4.6 5.0 5.4</span></span>
<span id="cb109-7"><a href="data-frames.html#cb109-7" aria-hidden="true" tabindex="-1"></a>firstTwoCols <span class="ot">&lt;-</span> irisData[<span class="fu">c</span>(<span class="st">&quot;sepal.length&quot;</span>, <span class="st">&quot;sepal.width&quot;</span>)] </span>
<span id="cb109-8"><a href="data-frames.html#cb109-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(firstTwoCols, <span class="dv">3</span>)</span>
<span id="cb109-9"><a href="data-frames.html#cb109-9" aria-hidden="true" tabindex="-1"></a><span class="do">##   sepal.length sepal.width</span></span>
<span id="cb109-10"><a href="data-frames.html#cb109-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 1          5.1         3.5</span></span>
<span id="cb109-11"><a href="data-frames.html#cb109-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 2          4.9         3.0</span></span>
<span id="cb109-12"><a href="data-frames.html#cb109-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 3          4.7         3.2</span></span></code></pre></div>
<p>The <code>[</code> operator is also useful for selecting rows and columns by index numbers, or by some logical criteria.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="data-frames.html#cb110-1" aria-hidden="true" tabindex="-1"></a>topLeft <span class="ot">&lt;-</span> irisData[<span class="dv">1</span>,<span class="dv">1</span>] <span class="co"># first row, first col</span></span>
<span id="cb110-2"><a href="data-frames.html#cb110-2" aria-hidden="true" tabindex="-1"></a>topLeft</span>
<span id="cb110-3"><a href="data-frames.html#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5.1</span></span>
<span id="cb110-4"><a href="data-frames.html#cb110-4" aria-hidden="true" tabindex="-1"></a>firstThreeRows <span class="ot">&lt;-</span> irisData[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,] <span class="co"># rows 1-3, all cols</span></span>
<span id="cb110-5"><a href="data-frames.html#cb110-5" aria-hidden="true" tabindex="-1"></a>firstThreeRows</span>
<span id="cb110-6"><a href="data-frames.html#cb110-6" aria-hidden="true" tabindex="-1"></a><span class="do">##   sepal.length sepal.width petal.length petal.width     species</span></span>
<span id="cb110-7"><a href="data-frames.html#cb110-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 1          5.1         3.5          1.4         0.2 Iris-setosa</span></span>
<span id="cb110-8"><a href="data-frames.html#cb110-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 2          4.9         3.0          1.4         0.2 Iris-setosa</span></span>
<span id="cb110-9"><a href="data-frames.html#cb110-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 3          4.7         3.2          1.3         0.2 Iris-setosa</span></span>
<span id="cb110-10"><a href="data-frames.html#cb110-10" aria-hidden="true" tabindex="-1"></a>setosaOnly <span class="ot">&lt;-</span> irisData[irisData<span class="sc">$</span>species <span class="sc">==</span> <span class="st">&quot;Iris-setosa&quot;</span>,] <span class="co"># rows where species column is setosa</span></span>
<span id="cb110-11"><a href="data-frames.html#cb110-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(setosaOnly, <span class="dv">3</span>)</span>
<span id="cb110-12"><a href="data-frames.html#cb110-12" aria-hidden="true" tabindex="-1"></a><span class="do">##   sepal.length sepal.width petal.length petal.width     species</span></span>
<span id="cb110-13"><a href="data-frames.html#cb110-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 1          5.1         3.5          1.4         0.2 Iris-setosa</span></span>
<span id="cb110-14"><a href="data-frames.html#cb110-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 2          4.9         3.0          1.4         0.2 Iris-setosa</span></span>
<span id="cb110-15"><a href="data-frames.html#cb110-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 3          4.7         3.2          1.3         0.2 Iris-setosa</span></span></code></pre></div>
<p>In the code above, <code>irisData$species == "Iris-setosa"</code> creates a logical vector (try it!) using the vectorized <code>==</code> operator. The <code>[</code> operator selects the rows for which the corresponding element of this logical vector is <code>TRUE</code>.</p>
<div class="rmd-details">
<p>Be careful: depending on how you use the square brackets, you can either get a <code>data.frame</code> or a <code>vector.</code> As an example, try both <code>class(irisData[,1])</code> and <code>class(irisData[,c(1,2)])</code>.</p>
</div>
<p>In R, <code>data.frame</code>s might have row names. You can get and set this character <code>vector</code> with the <code>rownames()</code> function. You can access rows by name using the square bracket operator.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="data-frames.html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">rownames</span>(irisData))</span>
<span id="cb111-2"><a href="data-frames.html#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;6&quot;</span></span>
<span id="cb111-3"><a href="data-frames.html#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(irisData) <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">rownames</span>(irisData)) <span class="sc">+</span> <span class="dv">1000</span></span>
<span id="cb111-4"><a href="data-frames.html#cb111-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">rownames</span>(irisData))</span>
<span id="cb111-5"><a href="data-frames.html#cb111-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;1001&quot; &quot;1002&quot; &quot;1003&quot; &quot;1004&quot; &quot;1005&quot; &quot;1006&quot;</span></span>
<span id="cb111-6"><a href="data-frames.html#cb111-6" aria-hidden="true" tabindex="-1"></a>irisData[<span class="st">&quot;1002&quot;</span>,]</span>
<span id="cb111-7"><a href="data-frames.html#cb111-7" aria-hidden="true" tabindex="-1"></a><span class="do">##      sepal.length sepal.width petal.length petal.width     species</span></span>
<span id="cb111-8"><a href="data-frames.html#cb111-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 1002          4.9           3          1.4         0.2 Iris-setosa</span></span></code></pre></div>
<p>Code that modifies data usually looks quite similar to code extracting data. You’ll notice a lot of the same symbols (e.g. <code>$</code>, <code>[</code>, etc.), but the (<code>&lt;-</code>) will point in the other direction.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="data-frames.html#cb112-1" aria-hidden="true" tabindex="-1"></a>irisData<span class="sc">$</span>columnOfOnes <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(irisData))</span>
<span id="cb112-2"><a href="data-frames.html#cb112-2" aria-hidden="true" tabindex="-1"></a>irisData[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">2</span>, <span class="at">mean =</span> <span class="dv">999</span>)</span>
<span id="cb112-3"><a href="data-frames.html#cb112-3" aria-hidden="true" tabindex="-1"></a>irisData[,<span class="st">&#39;sepal.width&#39;</span>] <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="fu">nrow</span>(irisData), <span class="at">mean =</span> <span class="sc">-</span><span class="dv">999</span>)</span>
<span id="cb112-4"><a href="data-frames.html#cb112-4" aria-hidden="true" tabindex="-1"></a>irisData[irisData<span class="sc">$</span>species <span class="sc">==</span> <span class="st">&quot;Iris-setosa&quot;</span>, <span class="st">&#39;species&#39;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;SETOSA!&quot;</span></span>
<span id="cb112-5"><a href="data-frames.html#cb112-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(irisData,<span class="dv">3</span>)</span>
<span id="cb112-6"><a href="data-frames.html#cb112-6" aria-hidden="true" tabindex="-1"></a><span class="do">##      sepal.length sepal.width petal.length petal.width species columnOfOnes</span></span>
<span id="cb112-7"><a href="data-frames.html#cb112-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 1001     998.8199   -999.2776          1.4         0.2 SETOSA!            1</span></span>
<span id="cb112-8"><a href="data-frames.html#cb112-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 1002     997.0094   -998.7717          1.4         0.2 SETOSA!            1</span></span>
<span id="cb112-9"><a href="data-frames.html#cb112-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 1003       4.7000  -1000.6808          1.3         0.2 SETOSA!            1</span></span></code></pre></div>
</div>
<div id="data-frames-in-python" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> Data Frames in Python</h2>
<p>The Pandas library in Python has data frames that are modeled after R’s.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb113-1"><a href="data-frames.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb113-2"><a href="data-frames.html#cb113-2" aria-hidden="true" tabindex="-1"></a>iris_data <span class="op">=</span> pd.read_csv(<span class="st">&quot;data/iris.csv&quot;</span>, header <span class="op">=</span> <span class="va">None</span>)</span>
<span id="cb113-3"><a href="data-frames.html#cb113-3" aria-hidden="true" tabindex="-1"></a>iris_data.head(<span class="dv">3</span>)</span>
<span id="cb113-4"><a href="data-frames.html#cb113-4" aria-hidden="true" tabindex="-1"></a><span class="co">##      0    1    2    3            4</span></span>
<span id="cb113-5"><a href="data-frames.html#cb113-5" aria-hidden="true" tabindex="-1"></a><span class="co">## 0  5.1  3.5  1.4  0.2  Iris-setosa</span></span>
<span id="cb113-6"><a href="data-frames.html#cb113-6" aria-hidden="true" tabindex="-1"></a><span class="co">## 1  4.9  3.0  1.4  0.2  Iris-setosa</span></span>
<span id="cb113-7"><a href="data-frames.html#cb113-7" aria-hidden="true" tabindex="-1"></a><span class="co">## 2  4.7  3.2  1.3  0.2  Iris-setosa</span></span>
<span id="cb113-8"><a href="data-frames.html#cb113-8" aria-hidden="true" tabindex="-1"></a>iris_data.shape</span>
<span id="cb113-9"><a href="data-frames.html#cb113-9" aria-hidden="true" tabindex="-1"></a><span class="co">## (150, 5)</span></span>
<span id="cb113-10"><a href="data-frames.html#cb113-10" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(iris_data) <span class="co"># num rows</span></span>
<span id="cb113-11"><a href="data-frames.html#cb113-11" aria-hidden="true" tabindex="-1"></a><span class="co">## 150</span></span>
<span id="cb113-12"><a href="data-frames.html#cb113-12" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(iris_data.columns) <span class="co"># num columns</span></span>
<span id="cb113-13"><a href="data-frames.html#cb113-13" aria-hidden="true" tabindex="-1"></a><span class="co">## 5</span></span>
<span id="cb113-14"><a href="data-frames.html#cb113-14" aria-hidden="true" tabindex="-1"></a><span class="bu">list</span>(iris_data.dtypes)</span>
<span id="cb113-15"><a href="data-frames.html#cb113-15" aria-hidden="true" tabindex="-1"></a><span class="co">## [dtype(&#39;float64&#39;), dtype(&#39;float64&#39;), dtype(&#39;float64&#39;), dtype(&#39;float64&#39;), dtype(&#39;O&#39;)]</span></span></code></pre></div>
<p>The structure is very similar to that of R’s data frame. It’s two dimensional, and you can <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html">access columns and rows by name or number.</a> Each column is a <code>Series</code> object, and each column can have a different <code>dtype</code>, which is analogous to R’s situation. Again, because the elements need to be the same type along columns only, this is a big difference between 2-d Numpy <code>ndarray</code>s and <code>DataFrame</code>s (c.f. R’s <code>matrix</code> versus R’s <code>data.frame</code>).</p>
<div class="rmd-caution">
<p>Again, do not rely on the default arguments of <code>pd.read_csv()</code>! After you read in a data set, always check that</p>
<ol style="list-style-type: decimal">
<li>the number of columns is correct because the correct column <em>separator</em> was used (c.f. <code>sep=</code>),</li>
<li>column names were parsed correctly, if there were some in the raw text file,</li>
<li>the first row of data wasn’t used as a column name sequence, if there weren’t column names in the text file (c.f. <code>header=</code>), and</li>
<li>the last few rows aren’t reading in empty spaces</li>
<li>character columns are read in correctly (c.f. <code>dtype=</code>), and</li>
<li>special characters signifying missing data were correctly identified (c.f. <code>na.values=</code>).</li>
</ol>
</div>
<p>Square brackets are a little different in Python than they are in R. Just like in R, you can access columns by name with square brackets, and you can also access rows. Unlike R, though, you don’t have to specify both rows and columns every time you use the square brackets.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb114-1"><a href="data-frames.html#cb114-1" aria-hidden="true" tabindex="-1"></a>iris_data.columns <span class="op">=</span> [<span class="st">&quot;sepal.length&quot;</span>, <span class="st">&quot;sepal.width&quot;</span>, </span>
<span id="cb114-2"><a href="data-frames.html#cb114-2" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&quot;petal.length&quot;</span>, <span class="st">&quot;petal.width&quot;</span>, </span>
<span id="cb114-3"><a href="data-frames.html#cb114-3" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&quot;species&quot;</span>]</span>
<span id="cb114-4"><a href="data-frames.html#cb114-4" aria-hidden="true" tabindex="-1"></a>first_col <span class="op">=</span> iris_data[<span class="st">&#39;sepal.length&#39;</span>]</span>
<span id="cb114-5"><a href="data-frames.html#cb114-5" aria-hidden="true" tabindex="-1"></a>first_col.head()</span>
<span id="cb114-6"><a href="data-frames.html#cb114-6" aria-hidden="true" tabindex="-1"></a><span class="co">## 0    5.1</span></span>
<span id="cb114-7"><a href="data-frames.html#cb114-7" aria-hidden="true" tabindex="-1"></a><span class="co">## 1    4.9</span></span>
<span id="cb114-8"><a href="data-frames.html#cb114-8" aria-hidden="true" tabindex="-1"></a><span class="co">## 2    4.7</span></span>
<span id="cb114-9"><a href="data-frames.html#cb114-9" aria-hidden="true" tabindex="-1"></a><span class="co">## 3    4.6</span></span>
<span id="cb114-10"><a href="data-frames.html#cb114-10" aria-hidden="true" tabindex="-1"></a><span class="co">## 4    5.0</span></span>
<span id="cb114-11"><a href="data-frames.html#cb114-11" aria-hidden="true" tabindex="-1"></a><span class="co">## Name: sepal.length, dtype: float64</span></span>
<span id="cb114-12"><a href="data-frames.html#cb114-12" aria-hidden="true" tabindex="-1"></a>first_two_cols <span class="op">=</span> iris_data[[<span class="st">&quot;sepal.length&quot;</span>, <span class="st">&quot;sepal.width&quot;</span>]]</span>
<span id="cb114-13"><a href="data-frames.html#cb114-13" aria-hidden="true" tabindex="-1"></a>first_two_cols.head(<span class="dv">3</span>)</span>
<span id="cb114-14"><a href="data-frames.html#cb114-14" aria-hidden="true" tabindex="-1"></a><span class="co">##    sepal.length  sepal.width</span></span>
<span id="cb114-15"><a href="data-frames.html#cb114-15" aria-hidden="true" tabindex="-1"></a><span class="co">## 0           5.1          3.5</span></span>
<span id="cb114-16"><a href="data-frames.html#cb114-16" aria-hidden="true" tabindex="-1"></a><span class="co">## 1           4.9          3.0</span></span>
<span id="cb114-17"><a href="data-frames.html#cb114-17" aria-hidden="true" tabindex="-1"></a><span class="co">## 2           4.7          3.2</span></span>
<span id="cb114-18"><a href="data-frames.html#cb114-18" aria-hidden="true" tabindex="-1"></a>iris_data[<span class="dv">0</span>:<span class="dv">2</span>]</span>
<span id="cb114-19"><a href="data-frames.html#cb114-19" aria-hidden="true" tabindex="-1"></a><span class="co">##    sepal.length  sepal.width  petal.length  petal.width      species</span></span>
<span id="cb114-20"><a href="data-frames.html#cb114-20" aria-hidden="true" tabindex="-1"></a><span class="co">## 0           5.1          3.5           1.4          0.2  Iris-setosa</span></span>
<span id="cb114-21"><a href="data-frames.html#cb114-21" aria-hidden="true" tabindex="-1"></a><span class="co">## 1           4.9          3.0           1.4          0.2  Iris-setosa</span></span></code></pre></div>
<div class="rmd-details">
<p>Notice that <code>iris_data['sepal.length']</code> returns a <code>Series</code> and <code>iris_data[["sepal.length", "sepal.width"]</code> returns a Pandas <code>DataFrame</code>. This behavior is similar to what happened in R’s. For more details, click <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/dsintro.html#indexing-selection">here</a>.</p>
</div>
<p>You can select columns and rows by number with the <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.iloc.html"><code>.iloc</code> method</a>. <code>iloc</code> is (probably) short for “integer location.”</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb115-1"><a href="data-frames.html#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co"># specify rows/cols by number</span></span>
<span id="cb115-2"><a href="data-frames.html#cb115-2" aria-hidden="true" tabindex="-1"></a>top_left <span class="op">=</span> iris_data.iloc[<span class="dv">0</span>,<span class="dv">0</span>]</span>
<span id="cb115-3"><a href="data-frames.html#cb115-3" aria-hidden="true" tabindex="-1"></a>top_left</span>
<span id="cb115-4"><a href="data-frames.html#cb115-4" aria-hidden="true" tabindex="-1"></a><span class="co">## 5.1</span></span>
<span id="cb115-5"><a href="data-frames.html#cb115-5" aria-hidden="true" tabindex="-1"></a>first_three_rows <span class="op">=</span> iris_data.iloc[:<span class="dv">3</span>,]</span>
<span id="cb115-6"><a href="data-frames.html#cb115-6" aria-hidden="true" tabindex="-1"></a>first_three_rows</span>
<span id="cb115-7"><a href="data-frames.html#cb115-7" aria-hidden="true" tabindex="-1"></a><span class="co">#setosa_only = iris_data[irisData$species == &quot;Iris-setosa&quot;,]  # easieriwith loc?</span></span>
<span id="cb115-8"><a href="data-frames.html#cb115-8" aria-hidden="true" tabindex="-1"></a><span class="co">#head(setosaOnly)</span></span>
<span id="cb115-9"><a href="data-frames.html#cb115-9" aria-hidden="true" tabindex="-1"></a><span class="co">##    sepal.length  sepal.width  petal.length  petal.width      species</span></span>
<span id="cb115-10"><a href="data-frames.html#cb115-10" aria-hidden="true" tabindex="-1"></a><span class="co">## 0           5.1          3.5           1.4          0.2  Iris-setosa</span></span>
<span id="cb115-11"><a href="data-frames.html#cb115-11" aria-hidden="true" tabindex="-1"></a><span class="co">## 1           4.9          3.0           1.4          0.2  Iris-setosa</span></span>
<span id="cb115-12"><a href="data-frames.html#cb115-12" aria-hidden="true" tabindex="-1"></a><span class="co">## 2           4.7          3.2           1.3          0.2  Iris-setosa</span></span></code></pre></div>
<p>Selecting columns by anything besides integer number can be done with the <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.loc.html"><code>.loc()</code> method</a>. You should generally prefer this method to access columns because accessing things by <em>name</em> instead of <em>number</em> is more readable. Here are some examples.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb116-1"><a href="data-frames.html#cb116-1" aria-hidden="true" tabindex="-1"></a>sepal_w_to_pedal_w <span class="op">=</span> iris_data.loc[<span class="st">&#39;sepal.width&#39;</span>:<span class="st">&#39;pedal.width&#39;</span>]</span>
<span id="cb116-2"><a href="data-frames.html#cb116-2" aria-hidden="true" tabindex="-1"></a>sepal_w_to_pedal_w</span>
<span id="cb116-3"><a href="data-frames.html#cb116-3" aria-hidden="true" tabindex="-1"></a><span class="co">## Empty DataFrame</span></span>
<span id="cb116-4"><a href="data-frames.html#cb116-4" aria-hidden="true" tabindex="-1"></a><span class="co">## Columns: [sepal.length, sepal.width, petal.length, petal.width, species]</span></span>
<span id="cb116-5"><a href="data-frames.html#cb116-5" aria-hidden="true" tabindex="-1"></a><span class="co">## Index: []</span></span>
<span id="cb116-6"><a href="data-frames.html#cb116-6" aria-hidden="true" tabindex="-1"></a>setosa_only <span class="op">=</span> iris_data.loc[iris_data[<span class="st">&#39;species&#39;</span>] <span class="op">==</span> <span class="st">&quot;Iris-setosa&quot;</span>,]</span>
<span id="cb116-7"><a href="data-frames.html#cb116-7" aria-hidden="true" tabindex="-1"></a>setosa_only.head(<span class="dv">3</span>)</span>
<span id="cb116-8"><a href="data-frames.html#cb116-8" aria-hidden="true" tabindex="-1"></a><span class="co">##    sepal.length  sepal.width  petal.length  petal.width      species</span></span>
<span id="cb116-9"><a href="data-frames.html#cb116-9" aria-hidden="true" tabindex="-1"></a><span class="co">## 0           5.1          3.5           1.4          0.2  Iris-setosa</span></span>
<span id="cb116-10"><a href="data-frames.html#cb116-10" aria-hidden="true" tabindex="-1"></a><span class="co">## 1           4.9          3.0           1.4          0.2  Iris-setosa</span></span>
<span id="cb116-11"><a href="data-frames.html#cb116-11" aria-hidden="true" tabindex="-1"></a><span class="co">## 2           4.7          3.2           1.3          0.2  Iris-setosa</span></span></code></pre></div>
<p>Notice we used a <code>slice</code> (i.e. <code>'sepal.width':'pedal.width'</code>) to access many columns by only referring to the left-most and the right-most. Unlike slicing with numbers, <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#slicing-ranges">the right end is included</a>. Also note that this does not work with the regular square bracket operator (i.e. <code>iris_data['sepal.width':'pedal.width']</code>). The second example filters out the rows where the <code>"species"</code> column elements are equal to <code>"Iris-setosa"</code>.</p>
<p>Each <code>DataFrame</code> in pandas comes with an <code>.index</code> attribute. This is analogous to a row name in R, but it’s much more flexible because the index can take on a variety of types. This can help us highlight the difference between <code>.loc</code> and <code>.iloc</code>. Recall that <code>.loc</code> was <em>label-based selection.</em> Labels don’t necessarily have to be strings. Consider the following example.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb117-1"><a href="data-frames.html#cb117-1" aria-hidden="true" tabindex="-1"></a>iris_data.index</span>
<span id="cb117-2"><a href="data-frames.html#cb117-2" aria-hidden="true" tabindex="-1"></a><span class="co">## RangeIndex(start=0, stop=150, step=1)</span></span>
<span id="cb117-3"><a href="data-frames.html#cb117-3" aria-hidden="true" tabindex="-1"></a>iris_data <span class="op">=</span> iris_data.set_index(iris_data.index[::<span class="op">-</span><span class="dv">1</span>]) <span class="co"># reverse the index</span></span>
<span id="cb117-4"><a href="data-frames.html#cb117-4" aria-hidden="true" tabindex="-1"></a>iris_data.tail(<span class="dv">2</span>) <span class="co"># top is now bottom</span></span>
<span id="cb117-5"><a href="data-frames.html#cb117-5" aria-hidden="true" tabindex="-1"></a><span class="co">##    sepal.length  sepal.width  petal.length  petal.width         species</span></span>
<span id="cb117-6"><a href="data-frames.html#cb117-6" aria-hidden="true" tabindex="-1"></a><span class="co">## 1           6.2          3.4           5.4          2.3  Iris-virginica</span></span>
<span id="cb117-7"><a href="data-frames.html#cb117-7" aria-hidden="true" tabindex="-1"></a><span class="co">## 0           5.9          3.0           5.1          1.8  Iris-virginica</span></span>
<span id="cb117-8"><a href="data-frames.html#cb117-8" aria-hidden="true" tabindex="-1"></a>iris_data.loc[<span class="dv">0</span>] <span class="co"># last row has 0 index</span></span>
<span id="cb117-9"><a href="data-frames.html#cb117-9" aria-hidden="true" tabindex="-1"></a><span class="co">## sepal.length               5.9</span></span>
<span id="cb117-10"><a href="data-frames.html#cb117-10" aria-hidden="true" tabindex="-1"></a><span class="co">## sepal.width                  3</span></span>
<span id="cb117-11"><a href="data-frames.html#cb117-11" aria-hidden="true" tabindex="-1"></a><span class="co">## petal.length               5.1</span></span>
<span id="cb117-12"><a href="data-frames.html#cb117-12" aria-hidden="true" tabindex="-1"></a><span class="co">## petal.width                1.8</span></span>
<span id="cb117-13"><a href="data-frames.html#cb117-13" aria-hidden="true" tabindex="-1"></a><span class="co">## species         Iris-virginica</span></span>
<span id="cb117-14"><a href="data-frames.html#cb117-14" aria-hidden="true" tabindex="-1"></a><span class="co">## Name: 0, dtype: object</span></span>
<span id="cb117-15"><a href="data-frames.html#cb117-15" aria-hidden="true" tabindex="-1"></a>iris_data.iloc[<span class="dv">0</span>] <span class="co"># first row with big index </span></span>
<span id="cb117-16"><a href="data-frames.html#cb117-16" aria-hidden="true" tabindex="-1"></a><span class="co">## sepal.length            5.1</span></span>
<span id="cb117-17"><a href="data-frames.html#cb117-17" aria-hidden="true" tabindex="-1"></a><span class="co">## sepal.width             3.5</span></span>
<span id="cb117-18"><a href="data-frames.html#cb117-18" aria-hidden="true" tabindex="-1"></a><span class="co">## petal.length            1.4</span></span>
<span id="cb117-19"><a href="data-frames.html#cb117-19" aria-hidden="true" tabindex="-1"></a><span class="co">## petal.width             0.2</span></span>
<span id="cb117-20"><a href="data-frames.html#cb117-20" aria-hidden="true" tabindex="-1"></a><span class="co">## species         Iris-setosa</span></span>
<span id="cb117-21"><a href="data-frames.html#cb117-21" aria-hidden="true" tabindex="-1"></a><span class="co">## Name: 149, dtype: object</span></span></code></pre></div>
<p><code>iris_data.loc[0]</code> selects the <code>0</code>th index. The second line reversed the indexes, so this is actually the last row. If you want the first row, use <code>iris_data.iloc[0]</code>.</p>
<!-- [`DataFrame`s have a huge amount  many useful attributes and methods, too.](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#) -->
<p>Modifying data inside a data frame looks quite similar to extracting data. You’ll recognize a lot of the methods mentioned earlier.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb118-1"><a href="data-frames.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb118-2"><a href="data-frames.html#cb118-2" aria-hidden="true" tabindex="-1"></a>n_rows <span class="op">=</span> iris_data.shape[<span class="dv">0</span>]</span>
<span id="cb118-3"><a href="data-frames.html#cb118-3" aria-hidden="true" tabindex="-1"></a>iris_data[<span class="st">&#39;col_ones&#39;</span>] <span class="op">=</span> np.repeat(<span class="fl">1.0</span>, n_rows)</span>
<span id="cb118-4"><a href="data-frames.html#cb118-4" aria-hidden="true" tabindex="-1"></a>iris_data.iloc[:<span class="dv">2</span>,<span class="dv">0</span>] <span class="op">=</span>  np.random.normal(loc<span class="op">=</span><span class="dv">999</span>, size<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb118-5"><a href="data-frames.html#cb118-5" aria-hidden="true" tabindex="-1"></a>iris_data.loc[:,<span class="st">&#39;sepal.width&#39;</span>] <span class="op">=</span> np.random.normal(loc<span class="op">=-</span><span class="dv">999</span>, size<span class="op">=</span>n_rows)</span>
<span id="cb118-6"><a href="data-frames.html#cb118-6" aria-hidden="true" tabindex="-1"></a>iris_data.loc[iris_data[<span class="st">&#39;species&#39;</span>] <span class="op">==</span> <span class="st">&quot;Iris-setosa&quot;</span>, <span class="st">&#39;species&#39;</span>] <span class="op">=</span> <span class="st">&quot;SETOSA!&quot;</span></span>
<span id="cb118-7"><a href="data-frames.html#cb118-7" aria-hidden="true" tabindex="-1"></a>iris_data.head(<span class="dv">3</span>)</span>
<span id="cb118-8"><a href="data-frames.html#cb118-8" aria-hidden="true" tabindex="-1"></a><span class="co">##      sepal.length  sepal.width  petal.length  petal.width  species  col_ones</span></span>
<span id="cb118-9"><a href="data-frames.html#cb118-9" aria-hidden="true" tabindex="-1"></a><span class="co">## 149   1000.124711 -1000.580934           1.4          0.2  SETOSA!       1.0</span></span>
<span id="cb118-10"><a href="data-frames.html#cb118-10" aria-hidden="true" tabindex="-1"></a><span class="co">## 148    997.443044  -998.098222           1.4          0.2  SETOSA!       1.0</span></span>
<span id="cb118-11"><a href="data-frames.html#cb118-11" aria-hidden="true" tabindex="-1"></a><span class="co">## 147      4.700000  -997.190175           1.3          0.2  SETOSA!       1.0</span></span></code></pre></div>
<p>You can also use the <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.assign.html"><code>.assign()</code> method</a> to create a new column. This method does not modify the data frame in place. It returns a new <code>DataFrame</code> with the additional column.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb119-1"><a href="data-frames.html#cb119-1" aria-hidden="true" tabindex="-1"></a>iris_data <span class="op">=</span> iris_data.assign(new_col_name <span class="op">=</span> np.arange(n_rows))</span>
<span id="cb119-2"><a href="data-frames.html#cb119-2" aria-hidden="true" tabindex="-1"></a>iris_data.head(<span class="dv">3</span>)</span>
<span id="cb119-3"><a href="data-frames.html#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="co">##      sepal.length  sepal.width  petal.length  ...  species col_ones  new_col_name</span></span>
<span id="cb119-4"><a href="data-frames.html#cb119-4" aria-hidden="true" tabindex="-1"></a><span class="co">## 149   1000.124711 -1000.580934           1.4  ...  SETOSA!      1.0             0</span></span>
<span id="cb119-5"><a href="data-frames.html#cb119-5" aria-hidden="true" tabindex="-1"></a><span class="co">## 148    997.443044  -998.098222           1.4  ...  SETOSA!      1.0             1</span></span>
<span id="cb119-6"><a href="data-frames.html#cb119-6" aria-hidden="true" tabindex="-1"></a><span class="co">## 147      4.700000  -997.190175           1.3  ...  SETOSA!      1.0             2</span></span>
<span id="cb119-7"><a href="data-frames.html#cb119-7" aria-hidden="true" tabindex="-1"></a><span class="co">## </span></span>
<span id="cb119-8"><a href="data-frames.html#cb119-8" aria-hidden="true" tabindex="-1"></a><span class="co">## [3 rows x 7 columns]</span></span></code></pre></div>
<div class="rmd-caution">
<p>Above we were assigning Numpy arrays to columns of a <code>DataFrame</code>. Be careful when you’re assigning <code>Series</code> objects. You’ll see in the documentation that <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#basics">“pandas aligns all AXES when setting Series and <code>DataFrame</code> from <code>.loc</code>, and <code>.iloc</code>.”</a>.</p>
</div>

</div>
</div>



<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-misc_iris_53" class="csl-entry">
Fisher, Test, R. A. &amp; Creator. 1988. <span>“<span>Iris</span>.”</span> UCI Machine Learning Repository.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="categorical-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="input-and-output.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/tbrown122387/r_and_python_book/edit/master/08-data_frames.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
