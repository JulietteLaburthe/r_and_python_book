<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 9 {r, collapse=TRUE} # readLines("data/message.txt") # | An Introduction to R and Python For Data Analysis: A Side By Side Approach</title>
  <meta name="description" content="Chapter 9 {r, collapse=TRUE} # readLines("data/message.txt") # | An Introduction to R and Python For Data Analysis: A Side By Side Approach" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 9 {r, collapse=TRUE} # readLines("data/message.txt") # | An Introduction to R and Python For Data Analysis: A Side By Side Approach" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="tbrown122387/r_and_python_book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 9 {r, collapse=TRUE} # readLines("data/message.txt") # | An Introduction to R and Python For Data Analysis: A Side By Side Approach" />
  
  
  

<meta name="author" content="Taylor R. Brown" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="input-and-output.html"/>
<link rel="next" href="using-third-party-code.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">An Introduction to R and Python For Data Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#a-sample-course"><i class="fa fa-check"></i>A Sample Course</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#licenses"><i class="fa fa-check"></i>License(s)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#about-this-book"><i class="fa fa-check"></i>About this book</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#conventions"><i class="fa fa-check"></i>Conventions</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#installing-the-required-software"><i class="fa fa-check"></i>Installing the Required Software</a>
<ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#installing-r-and-rstudio"><i class="fa fa-check"></i>Installing R (and RStudio)</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#installing-python-by-installing-anaconda"><i class="fa fa-check"></i>Installing Python by Installing Anaconda</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path=""><a href="#part-introducing-the-basics"><i class="fa fa-check"></i>(PART) Introducing the Basics</a>
<ul>
<li class="chapter" data-level="0.1" data-path="preface.html"><a href="preface.html#hello-world-in-r"><i class="fa fa-check"></i><b>0.1</b> Hello World in R</a></li>
<li class="chapter" data-level="0.2" data-path="preface.html"><a href="preface.html#hello-world-in-python"><i class="fa fa-check"></i><b>0.2</b> Hello World in Python</a></li>
<li class="chapter" data-level="0.3" data-path="preface.html"><a href="preface.html#getting-help"><i class="fa fa-check"></i><b>0.3</b> Getting Help</a>
<ul>
<li class="chapter" data-level="0.3.1" data-path="preface.html"><a href="preface.html#reading-documentation"><i class="fa fa-check"></i><b>0.3.1</b> Reading Documentation</a></li>
<li class="chapter" data-level="0.3.2" data-path="preface.html"><a href="preface.html#understanding-file-paths"><i class="fa fa-check"></i><b>0.3.2</b> Understanding File Paths</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="basic-types.html"><a href="basic-types.html"><i class="fa fa-check"></i><b>1</b> Basic Types</a>
<ul>
<li class="chapter" data-level="1.1" data-path="basic-types.html"><a href="basic-types.html#basic-types-in-python"><i class="fa fa-check"></i><b>1.1</b> Basic Types In Python</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="basic-types.html"><a href="basic-types.html#type-conversions-in-python"><i class="fa fa-check"></i><b>1.1.1</b> Type Conversions in Python</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="basic-types.html"><a href="basic-types.html#basic-types-in-r"><i class="fa fa-check"></i><b>1.2</b> Basic Types In R</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="basic-types.html"><a href="basic-types.html#type-conversions-in-r"><i class="fa fa-check"></i><b>1.2.1</b> Type Conversions in R</a></li>
<li class="chapter" data-level="1.2.2" data-path="basic-types.html"><a href="basic-types.html#rs-simplification"><i class="fa fa-check"></i><b>1.2.2</b> R’s Simplification</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="basic-types.html"><a href="basic-types.html#exercises"><i class="fa fa-check"></i><b>1.3</b> Exercises</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="basic-types.html"><a href="basic-types.html#r-questions"><i class="fa fa-check"></i><b>1.3.1</b> R Questions</a></li>
<li class="chapter" data-level="1.3.2" data-path="basic-types.html"><a href="basic-types.html#python-questions"><i class="fa fa-check"></i><b>1.3.2</b> Python Questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html"><i class="fa fa-check"></i><b>2</b> R <code>vector</code>s versus Numpy <code>array</code>s and Pandas’ <code>Series</code></a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#overview-of-r"><i class="fa fa-check"></i><b>2.1</b> Overview of R</a></li>
<li class="chapter" data-level="2.2" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#overview-of-python"><i class="fa fa-check"></i><b>2.2</b> Overview of Python</a></li>
<li class="chapter" data-level="2.3" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#vectorization-in-r"><i class="fa fa-check"></i><b>2.3</b> Vectorization in R</a></li>
<li class="chapter" data-level="2.4" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#vectorization-in-python"><i class="fa fa-check"></i><b>2.4</b> Vectorization in Python</a></li>
<li class="chapter" data-level="2.5" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#indexing-vectors-in-r"><i class="fa fa-check"></i><b>2.5</b> Indexing Vectors in R</a></li>
<li class="chapter" data-level="2.6" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#indexing-numpy-arrays"><i class="fa fa-check"></i><b>2.6</b> Indexing Numpy arrays</a></li>
<li class="chapter" data-level="2.7" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#indexing-pandas-series"><i class="fa fa-check"></i><b>2.7</b> Indexing Pandas’ Series</a></li>
<li class="chapter" data-level="2.8" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#some-gotchas"><i class="fa fa-check"></i><b>2.8</b> Some Gotchas</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#shallow-versus-deep-copies"><i class="fa fa-check"></i><b>2.8.1</b> Shallow versus Deep Copies</a></li>
<li class="chapter" data-level="2.8.2" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#how-r-and-python-handle-missing-values"><i class="fa fa-check"></i><b>2.8.2</b> How R and Python Handle Missing Values</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#exercises-1"><i class="fa fa-check"></i><b>2.9</b> Exercises</a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#r-questions-1"><i class="fa fa-check"></i><b>2.9.1</b> R Questions</a></li>
<li class="chapter" data-level="2.9.2" data-path="r-vectors-versus-numpy-arrays-and-pandas-series.html"><a href="r-vectors-versus-numpy-arrays-and-pandas-series.html#python-questions-1"><i class="fa fa-check"></i><b>2.9.2</b> Python Questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="numpy-ndarrays-versus-rs-matrix-and-array-types.html"><a href="numpy-ndarrays-versus-rs-matrix-and-array-types.html"><i class="fa fa-check"></i><b>3</b> Numpy <code>ndarray</code>s Versus R’s <code>matrix</code> and <code>array</code> Types</a>
<ul>
<li class="chapter" data-level="3.1" data-path="numpy-ndarrays-versus-rs-matrix-and-array-types.html"><a href="numpy-ndarrays-versus-rs-matrix-and-array-types.html#numpy-ndarrays-in-python"><i class="fa fa-check"></i><b>3.1</b> Numpy <code>ndarray</code>s In Python</a></li>
<li class="chapter" data-level="3.2" data-path="numpy-ndarrays-versus-rs-matrix-and-array-types.html"><a href="numpy-ndarrays-versus-rs-matrix-and-array-types.html#the-matrix-and-array-classes-in-r"><i class="fa fa-check"></i><b>3.2</b> The <code>matrix</code> and <code>array</code> classes in R</a></li>
<li class="chapter" data-level="3.3" data-path="numpy-ndarrays-versus-rs-matrix-and-array-types.html"><a href="numpy-ndarrays-versus-rs-matrix-and-array-types.html#exercises-2"><i class="fa fa-check"></i><b>3.3</b> Exercises</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="numpy-ndarrays-versus-rs-matrix-and-array-types.html"><a href="numpy-ndarrays-versus-rs-matrix-and-array-types.html#r-questions-2"><i class="fa fa-check"></i><b>3.3.1</b> R Questions</a></li>
<li class="chapter" data-level="3.3.2" data-path="numpy-ndarrays-versus-rs-matrix-and-array-types.html"><a href="numpy-ndarrays-versus-rs-matrix-and-array-types.html#python-questions-2"><i class="fa fa-check"></i><b>3.3.2</b> Python Questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="rs-lists-versus-pythons-lists-and-dicts.html"><a href="rs-lists-versus-pythons-lists-and-dicts.html"><i class="fa fa-check"></i><b>4</b> R’s <code>list</code>s Versus Python’s <code>list</code>s and <code>dict</code>s</a>
<ul>
<li class="chapter" data-level="4.1" data-path="rs-lists-versus-pythons-lists-and-dicts.html"><a href="rs-lists-versus-pythons-lists-and-dicts.html#lists-in-r"><i class="fa fa-check"></i><b>4.1</b> <code>list</code>s In R</a></li>
<li class="chapter" data-level="4.2" data-path="rs-lists-versus-pythons-lists-and-dicts.html"><a href="rs-lists-versus-pythons-lists-and-dicts.html#lists-in-python"><i class="fa fa-check"></i><b>4.2</b> <code>list</code>s In Python</a></li>
<li class="chapter" data-level="4.3" data-path="rs-lists-versus-pythons-lists-and-dicts.html"><a href="rs-lists-versus-pythons-lists-and-dicts.html#dictionaries-in-python"><i class="fa fa-check"></i><b>4.3</b> Dictionaries In Python</a></li>
<li class="chapter" data-level="4.4" data-path="rs-lists-versus-pythons-lists-and-dicts.html"><a href="rs-lists-versus-pythons-lists-and-dicts.html#exercises-3"><i class="fa fa-check"></i><b>4.4</b> Exercises</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="rs-lists-versus-pythons-lists-and-dicts.html"><a href="rs-lists-versus-pythons-lists-and-dicts.html#r-questions-3"><i class="fa fa-check"></i><b>4.4.1</b> R Questions</a></li>
<li class="chapter" data-level="4.4.2" data-path="rs-lists-versus-pythons-lists-and-dicts.html"><a href="rs-lists-versus-pythons-lists-and-dicts.html#python-questions-3"><i class="fa fa-check"></i><b>4.4.2</b> Python Questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>5</b> Functions</a>
<ul>
<li class="chapter" data-level="5.1" data-path="functions.html"><a href="functions.html#defining-r-functions"><i class="fa fa-check"></i><b>5.1</b> Defining R Functions</a></li>
<li class="chapter" data-level="5.2" data-path="functions.html"><a href="functions.html#defining-python-functions"><i class="fa fa-check"></i><b>5.2</b> Defining Python Functions</a></li>
<li class="chapter" data-level="5.3" data-path="functions.html"><a href="functions.html#more-details-on-rs-user-defined-functions"><i class="fa fa-check"></i><b>5.3</b> More Details On R’s User-Defined Functions</a></li>
<li class="chapter" data-level="5.4" data-path="functions.html"><a href="functions.html#more-details-on-pythons-user-defined-functions"><i class="fa fa-check"></i><b>5.4</b> More details on Python’s user-defined functions</a></li>
<li class="chapter" data-level="5.5" data-path="functions.html"><a href="functions.html#function-scope-in-r"><i class="fa fa-check"></i><b>5.5</b> Function Scope in R</a></li>
<li class="chapter" data-level="5.6" data-path="functions.html"><a href="functions.html#function-scope-in-python"><i class="fa fa-check"></i><b>5.6</b> Function Scope in Python</a></li>
<li class="chapter" data-level="5.7" data-path="functions.html"><a href="functions.html#modifying-a-functions-arguments"><i class="fa fa-check"></i><b>5.7</b> Modifying a Function’s Arguments</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="functions.html"><a href="functions.html#passing-by-value-in-r"><i class="fa fa-check"></i><b>5.7.1</b> Passing By Value In R</a></li>
<li class="chapter" data-level="5.7.2" data-path="functions.html"><a href="functions.html#passing-by-assignment-in-python"><i class="fa fa-check"></i><b>5.7.2</b> Passing By Assignment In Python</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="functions.html"><a href="functions.html#accessing-and-modifying-captured-variables"><i class="fa fa-check"></i><b>5.8</b> Accessing and Modifying Captured Variables</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="functions.html"><a href="functions.html#accessing-captured-variables-in-r"><i class="fa fa-check"></i><b>5.8.1</b> Accessing Captured Variables in R</a></li>
<li class="chapter" data-level="5.8.2" data-path="functions.html"><a href="functions.html#accessing-captured-variables-in-python"><i class="fa fa-check"></i><b>5.8.2</b> Accessing Captured Variables in Python</a></li>
<li class="chapter" data-level="5.8.3" data-path="functions.html"><a href="functions.html#modifying-captured-variables-in-r"><i class="fa fa-check"></i><b>5.8.3</b> Modifying Captured Variables In R</a></li>
<li class="chapter" data-level="5.8.4" data-path="functions.html"><a href="functions.html#modifying-captured-variables-in-python"><i class="fa fa-check"></i><b>5.8.4</b> Modifying Captured Variables In Python</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="functions.html"><a href="functions.html#exercises-4"><i class="fa fa-check"></i><b>5.9</b> Exercises</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="functions.html"><a href="functions.html#r-questions-4"><i class="fa fa-check"></i><b>5.9.1</b> R Questions</a></li>
<li class="chapter" data-level="5.9.2" data-path="functions.html"><a href="functions.html#python-questions-4"><i class="fa fa-check"></i><b>5.9.2</b> Python Questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="categorical-data.html"><a href="categorical-data.html"><i class="fa fa-check"></i><b>6</b> Categorical Data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="categorical-data.html"><a href="categorical-data.html#factors-in-r"><i class="fa fa-check"></i><b>6.1</b> <code>factor</code>s in R</a></li>
<li class="chapter" data-level="6.2" data-path="categorical-data.html"><a href="categorical-data.html#two-options-for-categorical-data-in-pandas"><i class="fa fa-check"></i><b>6.2</b> Two Options for Categorical Data in Pandas</a></li>
<li class="chapter" data-level="6.3" data-path="categorical-data.html"><a href="categorical-data.html#exercises-5"><i class="fa fa-check"></i><b>6.3</b> Exercises</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="categorical-data.html"><a href="categorical-data.html#r-questions-5"><i class="fa fa-check"></i><b>6.3.1</b> R Questions</a></li>
<li class="chapter" data-level="6.3.2" data-path="categorical-data.html"><a href="categorical-data.html#python-questions-5"><i class="fa fa-check"></i><b>6.3.2</b> Python Questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-frames.html"><a href="data-frames.html"><i class="fa fa-check"></i><b>7</b> Data Frames</a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-frames.html"><a href="data-frames.html#data-frames-in-r"><i class="fa fa-check"></i><b>7.1</b> Data Frames in R</a></li>
<li class="chapter" data-level="7.2" data-path="data-frames.html"><a href="data-frames.html#data-frames-in-python"><i class="fa fa-check"></i><b>7.2</b> Data Frames in Python</a></li>
</ul></li>
<li class="part"><span><b>I Common Tasks and Patterns</b></span></li>
<li class="chapter" data-level="8" data-path="input-and-output.html"><a href="input-and-output.html"><i class="fa fa-check"></i><b>8</b> Input and Output</a>
<ul>
<li class="chapter" data-level="8.1" data-path="input-and-output.html"><a href="input-and-output.html#general-input-considerations"><i class="fa fa-check"></i><b>8.1</b> General Input Considerations</a></li>
<li class="chapter" data-level="8.2" data-path="input-and-output.html"><a href="input-and-output.html#reading-in-text-files-with-r"><i class="fa fa-check"></i><b>8.2</b> Reading in Text Files with R</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="r-collapsetrue-readlinesdatamessage-txt.html"><a href="r-collapsetrue-readlinesdatamessage-txt.html"><i class="fa fa-check"></i><b>9</b> <code>{r, collapse=TRUE} # readLines("data/message.txt") #</code></a>
<ul>
<li class="chapter" data-level="9.1" data-path="r-collapsetrue-readlinesdatamessage-txt.html"><a href="r-collapsetrue-readlinesdatamessage-txt.html#reading-in-text-files-with-pandas"><i class="fa fa-check"></i><b>9.1</b> Reading in Text Files with Pandas</a></li>
<li class="chapter" data-level="9.2" data-path="r-collapsetrue-readlinesdatamessage-txt.html"><a href="r-collapsetrue-readlinesdatamessage-txt.html#saving-data-in-r"><i class="fa fa-check"></i><b>9.2</b> Saving Data in R</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="r-collapsetrue-readlinesdatamessage-txt.html"><a href="r-collapsetrue-readlinesdatamessage-txt.html#writing-out-tabular-plain-text-data-in-r"><i class="fa fa-check"></i><b>9.2.1</b> Writing Out Tabular Plain Text Data in R</a></li>
<li class="chapter" data-level="9.2.2" data-path="r-collapsetrue-readlinesdatamessage-txt.html"><a href="r-collapsetrue-readlinesdatamessage-txt.html#serialization-in-r"><i class="fa fa-check"></i><b>9.2.2</b> Serialization in R</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="r-collapsetrue-readlinesdatamessage-txt.html"><a href="r-collapsetrue-readlinesdatamessage-txt.html#saving-data-in-python"><i class="fa fa-check"></i><b>9.3</b> Saving Data in Python</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="r-collapsetrue-readlinesdatamessage-txt.html"><a href="r-collapsetrue-readlinesdatamessage-txt.html#writing-out-tabular-plain-text-data-in-python"><i class="fa fa-check"></i><b>9.3.1</b> Writing Out Tabular Plain Text Data in Python</a></li>
<li class="chapter" data-level="9.3.2" data-path="r-collapsetrue-readlinesdatamessage-txt.html"><a href="r-collapsetrue-readlinesdatamessage-txt.html#serialization-in-python"><i class="fa fa-check"></i><b>9.3.2</b> Serialization in Python</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="using-third-party-code.html"><a href="using-third-party-code.html"><i class="fa fa-check"></i><b>10</b> Using Third-Party Code</a>
<ul>
<li class="chapter" data-level="10.1" data-path="using-third-party-code.html"><a href="using-third-party-code.html#installing-packages-in-r"><i class="fa fa-check"></i><b>10.1</b> Installing Packages In R</a></li>
<li class="chapter" data-level="10.2" data-path="using-third-party-code.html"><a href="using-third-party-code.html#installing-packages-in-python"><i class="fa fa-check"></i><b>10.2</b> Installing Packages In Python</a></li>
<li class="chapter" data-level="10.3" data-path="using-third-party-code.html"><a href="using-third-party-code.html#loading-packages-in-r"><i class="fa fa-check"></i><b>10.3</b> Loading Packages In R</a></li>
<li class="chapter" data-level="10.4" data-path="using-third-party-code.html"><a href="using-third-party-code.html#loading-packages-in-python"><i class="fa fa-check"></i><b>10.4</b> Loading Packages In Python</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="using-third-party-code.html"><a href="using-third-party-code.html#importing-examples"><i class="fa fa-check"></i><b>10.4.1</b> <code>import</code>ing Examples</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="control-flow.html"><a href="control-flow.html"><i class="fa fa-check"></i><b>11</b> Control Flow</a>
<ul>
<li class="chapter" data-level="11.1" data-path="control-flow.html"><a href="control-flow.html#conditional-logic"><i class="fa fa-check"></i><b>11.1</b> Conditional Logic</a></li>
<li class="chapter" data-level="11.2" data-path="control-flow.html"><a href="control-flow.html#loops"><i class="fa fa-check"></i><b>11.2</b> Loops</a></li>
<li class="chapter" data-level="11.3" data-path="control-flow.html"><a href="control-flow.html#a-longer-example"><i class="fa fa-check"></i><b>11.3</b> A Longer Example</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="control-flow.html"><a href="control-flow.html#description-of-accept-reject-sampling"><i class="fa fa-check"></i><b>11.3.1</b> Description of Accept-Reject Sampling</a></li>
<li class="chapter" data-level="11.3.2" data-path="control-flow.html"><a href="control-flow.html#a-specific-example"><i class="fa fa-check"></i><b>11.3.2</b> A Specific Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="reshaping-and-combining-data-sets.html"><a href="reshaping-and-combining-data-sets.html"><i class="fa fa-check"></i><b>12</b> Reshaping and Combining Data Sets</a>
<ul>
<li class="chapter" data-level="12.1" data-path="reshaping-and-combining-data-sets.html"><a href="reshaping-and-combining-data-sets.html#ordering-and-sorting-data"><i class="fa fa-check"></i><b>12.1</b> Ordering and Sorting Data</a></li>
<li class="chapter" data-level="12.2" data-path="reshaping-and-combining-data-sets.html"><a href="reshaping-and-combining-data-sets.html#stacking-data-sets-and-placing-them-shoulder-to-shoulder"><i class="fa fa-check"></i><b>12.2</b> Stacking Data Sets and Placing Them Shoulder to Shoulder</a></li>
<li class="chapter" data-level="12.3" data-path="reshaping-and-combining-data-sets.html"><a href="reshaping-and-combining-data-sets.html#merging-or-joining-data-sets"><i class="fa fa-check"></i><b>12.3</b> Merging or Joining Data Sets</a></li>
<li class="chapter" data-level="12.4" data-path="reshaping-and-combining-data-sets.html"><a href="reshaping-and-combining-data-sets.html#long-versus-wide-data"><i class="fa fa-check"></i><b>12.4</b> Long Versus Wide Data</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="reshaping-and-combining-data-sets.html"><a href="reshaping-and-combining-data-sets.html#long-versus-wide-in-r"><i class="fa fa-check"></i><b>12.4.1</b> Long Versus Wide in R</a></li>
<li class="chapter" data-level="12.4.2" data-path="reshaping-and-combining-data-sets.html"><a href="reshaping-and-combining-data-sets.html#long-versus-wide-in-python"><i class="fa fa-check"></i><b>12.4.2</b> Long Versus Wide in Python</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>13</b> Visualization</a>
<ul>
<li class="chapter" data-level="13.1" data-path="visualization.html"><a href="visualization.html#base-r-plotting"><i class="fa fa-check"></i><b>13.1</b> Base R Plotting</a></li>
<li class="chapter" data-level="13.2" data-path="visualization.html"><a href="visualization.html#plotting-with-ggplot2"><i class="fa fa-check"></i><b>13.2</b> Plotting with <code>ggplot2</code></a></li>
<li class="chapter" data-level="13.3" data-path="visualization.html"><a href="visualization.html#plotting-with-matplotlib"><i class="fa fa-check"></i><b>13.3</b> Plotting with Matplotlib</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="working-with-text-data.html"><a href="working-with-text-data.html"><i class="fa fa-check"></i><b>14</b> Working With Text Data</a></li>
<li class="chapter" data-level="15" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>15</b> Dates and Times</a></li>
<li class="chapter" data-level="16" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html"><i class="fa fa-check"></i><b>16</b> Running Scripts from the Command Line</a></li>
<li class="chapter" data-level="" data-path=""><a href="#part-programming-styles"><i class="fa fa-check"></i>(PART) Programming Styles</a>
<ul>
<li class="chapter" data-level="16.1" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html#oop-in-python"><i class="fa fa-check"></i><b>16.1</b> OOP In Python</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html#overview"><i class="fa fa-check"></i><b>16.1.1</b> Overview</a></li>
<li class="chapter" data-level="16.1.2" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html#a-first-example"><i class="fa fa-check"></i><b>16.1.2</b> A First Example</a></li>
<li class="chapter" data-level="16.1.3" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html#adding-inheritance"><i class="fa fa-check"></i><b>16.1.3</b> Adding Inheritance</a></li>
<li class="chapter" data-level="16.1.4" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html#adding-in-composition"><i class="fa fa-check"></i><b>16.1.4</b> Adding in Composition</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html#oop-in-r"><i class="fa fa-check"></i><b>16.2</b> OOP In R</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html#s3-objects-the-big-picture"><i class="fa fa-check"></i><b>16.2.1</b> S3 objects: The Big Picture</a></li>
<li class="chapter" data-level="16.2.2" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html#using-s3-objects"><i class="fa fa-check"></i><b>16.2.2</b> Using S3 objects</a></li>
<li class="chapter" data-level="16.2.3" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html#creating-s3-objects"><i class="fa fa-check"></i><b>16.2.3</b> Creating S3 objects</a></li>
<li class="chapter" data-level="16.2.4" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html#s4-objects-the-big-picture"><i class="fa fa-check"></i><b>16.2.4</b> S4 objects: The Big Picture</a></li>
<li class="chapter" data-level="16.2.5" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html#using-s4-objects"><i class="fa fa-check"></i><b>16.2.5</b> Using S4 objects</a></li>
<li class="chapter" data-level="16.2.6" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html#creating-s4-objects"><i class="fa fa-check"></i><b>16.2.6</b> Creating S4 objects</a></li>
<li class="chapter" data-level="16.2.7" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html#reference-classes-the-big-picture"><i class="fa fa-check"></i><b>16.2.7</b> Reference Classes: The Big Picture</a></li>
<li class="chapter" data-level="16.2.8" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html#creating-reference-classes"><i class="fa fa-check"></i><b>16.2.8</b> Creating Reference Classes</a></li>
<li class="chapter" data-level="16.2.9" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html#creating-r6-classes"><i class="fa fa-check"></i><b>16.2.9</b> Creating R6 Classes</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="running-scripts-from-the-command-line.html"><a href="running-scripts-from-the-command-line.html#exercises-6"><i class="fa fa-check"></i><b>16.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="functional-programming.html"><a href="functional-programming.html"><i class="fa fa-check"></i><b>17</b> Functional Programming</a>
<ul>
<li class="chapter" data-level="17.1" data-path="functional-programming.html"><a href="functional-programming.html#functions-as-function-inputs-in-r"><i class="fa fa-check"></i><b>17.1</b> Functions as Function Inputs in R</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="functional-programming.html"><a href="functional-programming.html#sapply-and-vapply"><i class="fa fa-check"></i><b>17.1.1</b> <code>sapply()</code> and <code>vapply()</code></a></li>
<li class="chapter" data-level="17.1.2" data-path="functional-programming.html"><a href="functional-programming.html#lapply"><i class="fa fa-check"></i><b>17.1.2</b> <code>lapply()</code></a></li>
<li class="chapter" data-level="17.1.3" data-path="functional-programming.html"><a href="functional-programming.html#apply"><i class="fa fa-check"></i><b>17.1.3</b> <code>apply()</code></a></li>
<li class="chapter" data-level="17.1.4" data-path="functional-programming.html"><a href="functional-programming.html#tapply"><i class="fa fa-check"></i><b>17.1.4</b> <code>tapply()</code></a></li>
<li class="chapter" data-level="17.1.5" data-path="functional-programming.html"><a href="functional-programming.html#mapply"><i class="fa fa-check"></i><b>17.1.5</b> <code>mapply()</code></a></li>
<li class="chapter" data-level="17.1.6" data-path="functional-programming.html"><a href="functional-programming.html#reduce-and-do.call"><i class="fa fa-check"></i><b>17.1.6</b> <code>Reduce()</code> and <code>do.call()</code></a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="functional-programming.html"><a href="functional-programming.html#another-example-in-r"><i class="fa fa-check"></i><b>17.2</b> Another Example in R</a></li>
<li class="chapter" data-level="17.3" data-path="functional-programming.html"><a href="functional-programming.html#functions-as-function-inputs-in-base-python"><i class="fa fa-check"></i><b>17.3</b> Functions as Function Inputs in Base Python</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="functional-programming.html"><a href="functional-programming.html#map"><i class="fa fa-check"></i><b>17.3.1</b> <code>map()</code></a></li>
<li class="chapter" data-level="17.3.2" data-path="functional-programming.html"><a href="functional-programming.html#filter"><i class="fa fa-check"></i><b>17.3.2</b> <code>filter()</code></a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="functional-programming.html"><a href="functional-programming.html#functions-as-function-inputs-in-numpy"><i class="fa fa-check"></i><b>17.4</b> Functions as Function Inputs in Numpy</a></li>
<li class="chapter" data-level="17.5" data-path="functional-programming.html"><a href="functional-programming.html#functional-methods-in-pandas"><i class="fa fa-check"></i><b>17.5</b> Functional Methods in Pandas</a></li>
<li class="chapter" data-level="17.6" data-path="functional-programming.html"><a href="functional-programming.html#functions-as-function-inputs-miscellany"><i class="fa fa-check"></i><b>17.6</b> Functions as Function Inputs (miscellany)</a></li>
<li class="chapter" data-level="17.7" data-path="functional-programming.html"><a href="functional-programming.html#functions-as-function-outputs-in-r"><i class="fa fa-check"></i><b>17.7</b> Functions as Function Outputs in R</a></li>
<li class="chapter" data-level="17.8" data-path="functional-programming.html"><a href="functional-programming.html#functions-as-function-outputs-in-python"><i class="fa fa-check"></i><b>17.8</b> Functions as Function Outputs in Python</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">An Introduction to R and Python For Data Analysis: A Side By Side Approach</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-collapsetrue-readlinesdatamessage.txt" class="section level1" number="9">
<h1><span class="header-section-number">Chapter 9</span> <code>{r, collapse=TRUE} # readLines("data/message.txt") #</code></h1>
<p>Some of you may have had difficulty reading in the above data. This can happen if your machine’s default character encoding is different than mine. For instance, if your character encoding is “GBK,” then this warning message might pop up. This means that your machine didn’t recognize some of the characters in the data set.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb7-1" aria-hidden="true" tabindex="-1"></a>tmp1 <span class="ot">&lt;-</span> <span class="fu">readLines</span>(<span class="st">&quot;data/Google.html&quot;</span>, <span class="at">warn =</span> <span class="cn">FALSE</span>)</span>
<span id="cb7-2"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Warning in readLines(&quot;data/Google.html&quot;, warn = FALSE): invalid input found on</span></span>
<span id="cb7-3"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="do">## input connection &#39;data/Google.html&#39;</span></span></code></pre></div>
<p>These errors are easy to fix, though, so don’t worry. Just specify an encoding argument in your function that reads in data.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb8-1" aria-hidden="true" tabindex="-1"></a>tmp1 <span class="ot">&lt;-</span> <span class="fu">readLines</span>(<span class="st">&quot;data/Google.html&quot;</span>, <span class="at">warn =</span> <span class="cn">FALSE</span>, <span class="at">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>)</span>
<span id="cb8-2"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Warning in readLines(&quot;data/Google.html&quot;, warn = FALSE, encoding = &quot;UTF-8&quot;):</span></span>
<span id="cb8-3"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="do">## invalid input found on input connection &#39;data/Google.html&#39;</span></span></code></pre></div>
<div id="reading-in-text-files-with-pandas" class="section level2" number="9.1">
<h2><span class="header-section-number">9.1</span> Reading in Text Files with Pandas</h2>
<p>A <a href="https://pandas.pydata.org/pandas-docs/stable/reference/io.html">wide variety of different file formats can be read in with Pandas.</a> I will only mention a few functions here.</p>
<p>Recall R has <code>read.table()</code> and <code>read.csv()</code>, and that they are very similar. In Pandas, <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html"><code>pd.read_csv()</code></a> and <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_table.html"><code>pd.read_table()</code></a> have a lot in common, too. Their primary difference is the default column separator, as well.</p>
<p>Recall the O-Ring data from above. The columns are <em>not</em> separated by commas, so if we treat it as a comma-separated file, the resulting Pandas <code>DataFrame</code> is going to be missing all but one of its columns.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb9-2"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb9-2" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> pd.read_csv(<span class="st">&quot;data/o-ring-erosion-only.data&quot;</span>)</span>
<span id="cb9-3"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb9-3" aria-hidden="true" tabindex="-1"></a>d.shape <span class="co"># one column and missing a row</span></span>
<span id="cb9-4"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co">## (22, 1)</span></span>
<span id="cb9-5"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb9-5" aria-hidden="true" tabindex="-1"></a>d.columns <span class="co"># column labels are data</span></span>
<span id="cb9-6"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co">## Index([&#39;6 0 66  50  1&#39;], dtype=&#39;object&#39;)</span></span></code></pre></div>
<p>By default, <code>pd.read_csv()</code> is expecting column labels, which is also a problem. Unlike R, though, the <code>header=</code> argument is not expected to be a Boolean. You will need to provide a <code>None</code>, instead. The separator needs to be just right, too.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-1" aria-hidden="true" tabindex="-1"></a>pd.read_csv(<span class="st">&quot;data/o-ring-erosion-only.data&quot;</span>, </span>
<span id="cb10-2"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-2" aria-hidden="true" tabindex="-1"></a>            header<span class="op">=</span><span class="va">None</span>, sep <span class="op">=</span> <span class="st">&quot; &quot;</span>).head(<span class="dv">2</span>) <span class="co"># 1 space: no</span></span>
<span id="cb10-3"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co">##    0  1   2   3     4   5    6</span></span>
<span id="cb10-4"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co">## 0  6  0  66 NaN  50.0 NaN  1.0</span></span>
<span id="cb10-5"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co">## 1  6  1  70 NaN  50.0 NaN  2.0</span></span>
<span id="cb10-6"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-6" aria-hidden="true" tabindex="-1"></a>pd.read_csv(<span class="st">&quot;data/o-ring-erosion-only.data&quot;</span>, </span>
<span id="cb10-7"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-7" aria-hidden="true" tabindex="-1"></a>            header<span class="op">=</span><span class="va">None</span>, sep <span class="op">=</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>).head(<span class="dv">2</span>) <span class="co"># tabs: no</span></span>
<span id="cb10-8"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co">##                0</span></span>
<span id="cb10-9"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">## 0  6 0 66  50  1</span></span>
<span id="cb10-10"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co">## 1  6 1 70  50  2</span></span>
<span id="cb10-11"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-11" aria-hidden="true" tabindex="-1"></a>pd.read_table(<span class="st">&quot;data/o-ring-erosion-only.data&quot;</span>, </span>
<span id="cb10-12"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-12" aria-hidden="true" tabindex="-1"></a>              header<span class="op">=</span><span class="va">None</span>).head(<span class="dv">2</span>) <span class="co"># default sep is tabs, so no</span></span>
<span id="cb10-13"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co">##                0</span></span>
<span id="cb10-14"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co">## 0  6 0 66  50  1</span></span>
<span id="cb10-15"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co">## 1  6 1 70  50  2</span></span>
<span id="cb10-16"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-16" aria-hidden="true" tabindex="-1"></a>pd.read_csv(<span class="st">&quot;data/o-ring-erosion-only.data&quot;</span>, </span>
<span id="cb10-17"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-17" aria-hidden="true" tabindex="-1"></a>            header<span class="op">=</span><span class="va">None</span>, sep <span class="op">=</span> <span class="st">&quot;\s+&quot;</span>).head(<span class="dv">2</span>) <span class="co"># 1 or more spaces: yes</span></span>
<span id="cb10-18"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="co">##    0  1   2   3  4</span></span>
<span id="cb10-19"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="co">## 0  6  0  66  50  1</span></span>
<span id="cb10-20"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co">## 1  6  1  70  50  2</span></span></code></pre></div>
<p>Reading in fixed width files can be done in a way that is nearly identical to the way we did it in R. Here is an example.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb11-1" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> pd.read_fwf(<span class="st">&quot;data/o-ring-erosion-only.data&quot;</span>, </span>
<span id="cb11-2"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb11-2" aria-hidden="true" tabindex="-1"></a>                widths <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">3</span>], header<span class="op">=</span><span class="va">None</span>) <span class="co"># or try [2,2,4,4,1]</span></span>
<span id="cb11-3"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb11-3" aria-hidden="true" tabindex="-1"></a>d.info()</span>
<span id="cb11-4"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">## &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span></span>
<span id="cb11-5"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">## RangeIndex: 23 entries, 0 to 22</span></span>
<span id="cb11-6"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">## Data columns (total 5 columns):</span></span>
<span id="cb11-7"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">##  #   Column  Non-Null Count  Dtype</span></span>
<span id="cb11-8"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co">## ---  ------  --------------  -----</span></span>
<span id="cb11-9"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co">##  0   0       23 non-null     int64</span></span>
<span id="cb11-10"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co">##  1   1       23 non-null     int64</span></span>
<span id="cb11-11"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="co">##  2   2       23 non-null     int64</span></span>
<span id="cb11-12"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="co">##  3   3       23 non-null     int64</span></span>
<span id="cb11-13"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="co">##  4   4       23 non-null     int64</span></span>
<span id="cb11-14"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="co">## dtypes: int64(5)</span></span>
<span id="cb11-15"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="co">## memory usage: 1.0 KB</span></span></code></pre></div>
<p>If you had chosen <code>widths=[2,2,4,4,1]</code>, instead, then the trailing whitespace will cause Pandas to recognize a <code>dtype</code> of <code>object</code>. The reason it is not recognized as a string is because strings can be of different length, and all string types specify a maximum length. If you want to enforce a maximum length, there may be some speed advantages. In the below example, we use <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.astype.html"><code>d.astype()</code></a> to convert two columns’ types to <a href="https://pandas.pydata.org/docs/reference/api/pandas.StringDtype.html#pandas.StringDtype"><code>pd.StringDtype</code></a>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb12-1" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> pd.read_fwf(<span class="st">&quot;data/o-ring-erosion-only.data&quot;</span>, </span>
<span id="cb12-2"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb12-2" aria-hidden="true" tabindex="-1"></a>                widths <span class="op">=</span> [<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>], header<span class="op">=</span><span class="va">None</span>)</span>
<span id="cb12-3"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="bu">list</span>(d.dtypes)</span>
<span id="cb12-4"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">## [dtype(&#39;int64&#39;), dtype(&#39;int64&#39;), dtype(&#39;O&#39;), dtype(&#39;O&#39;), dtype(&#39;int64&#39;)]</span></span>
<span id="cb12-5"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb12-5" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> d.astype({<span class="dv">2</span>:<span class="st">&#39;string&#39;</span>, <span class="dv">3</span>:<span class="st">&#39;string&#39;</span>}) </span>
<span id="cb12-6"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="bu">list</span>(d.dtypes)</span>
<span id="cb12-7"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co">## [dtype(&#39;int64&#39;), dtype(&#39;int64&#39;), StringDtype, StringDtype, dtype(&#39;int64&#39;)]</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-1" aria-hidden="true" tabindex="-1"></a>pd.read_csv(<span class="st">&quot;data/message.txt&quot;</span>)</span>
<span id="cb13-2"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co">## Error in py_call_impl(callable, dots$args, dots$keywords): UnicodeDecodeError: &#39;utf-8&#39; codec can&#39;t decode byte 0xb9 in position 0: invalid start byte</span></span>
<span id="cb13-3"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">## </span></span>
<span id="cb13-4"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co">## Detailed traceback:</span></span>
<span id="cb13-5"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">##   File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;</span></span>
<span id="cb13-6"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co">##   File &quot;/home/taylor/.local/share/r-miniconda/envs/r-reticulate/lib/python3.6/site-packages/pandas/io/parsers.py&quot;, line 688, in read_csv</span></span>
<span id="cb13-7"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">##     return _read(filepath_or_buffer, kwds)</span></span>
<span id="cb13-8"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">##   File &quot;/home/taylor/.local/share/r-miniconda/envs/r-reticulate/lib/python3.6/site-packages/pandas/io/parsers.py&quot;, line 454, in _read</span></span>
<span id="cb13-9"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">##     parser = TextFileReader(fp_or_buf, **kwds)</span></span>
<span id="cb13-10"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co">##   File &quot;/home/taylor/.local/share/r-miniconda/envs/r-reticulate/lib/python3.6/site-packages/pandas/io/parsers.py&quot;, line 948, in __init__</span></span>
<span id="cb13-11"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co">##     self._make_engine(self.engine)</span></span>
<span id="cb13-12"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">##   File &quot;/home/taylor/.local/share/r-miniconda/envs/r-reticulate/lib/python3.6/site-packages/pandas/io/parsers.py&quot;, line 1180, in _make_engine</span></span>
<span id="cb13-13"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co">##     self._engine = CParserWrapper(self.f, **self.options)</span></span>
<span id="cb13-14"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co">##   File &quot;/home/taylor/.local/share/r-miniconda/envs/r-reticulate/lib/python3.6/site-packages/pandas/io/parsers.py&quot;, line 2010, in __init__</span></span>
<span id="cb13-15"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co">##     self._reader = parsers.TextReader(src, **kwds)</span></span>
<span id="cb13-16"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co">##   File &quot;pandas/_libs/parsers.pyx&quot;, line 537, in pandas._libs.parsers.TextReader.__cinit__</span></span>
<span id="cb13-17"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co">##   File &quot;pandas/_libs/parsers.pyx&quot;, line 740, in pandas._libs.parsers.TextReader._get_header</span></span></code></pre></div>
<p>You may also read in unstructured, nontabular data with Python. Use the built-in <a href="https://docs.python.org/3/library/functions.html#open"><code>open()</code></a> function to open up a file in read mode, and then use <code>f.readlines()</code> to return a <code>list</code> of strings.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb14-1" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&quot;data/Google.html&quot;</span>, <span class="st">&quot;r&quot;</span>)</span>
<span id="cb14-2"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb14-2" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> f.readlines()</span>
<span id="cb14-3"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb14-3" aria-hidden="true" tabindex="-1"></a>d[:<span class="dv">2</span>]</span>
<span id="cb14-4"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">## [&#39;&lt;!DOCTYPE html&gt;\n&#39;, &#39;&lt;html itemscope=&quot;&quot; itemtype=&quot;http://schema.org/WebPage&quot; lang=&quot;en&quot;&gt;&lt;head&gt;\n&#39;]</span></span>
<span id="cb14-5"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(d), <span class="bu">type</span>(d[<span class="dv">0</span>]))</span>
<span id="cb14-6"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co">## &lt;class &#39;list&#39;&gt; &lt;class &#39;str&#39;&gt;</span></span></code></pre></div>
</div>
<div id="saving-data-in-r" class="section level2" number="9.2">
<h2><span class="header-section-number">9.2</span> Saving Data in R</h2>
<p>Storing data is important for saving your progress. For example, sometimes running a script that performs data cleaning can take a very long time. Saving your progress might free you from the responsibility of running that script many times.</p>
<p>In R, there are many options for storing data. I will mention two: writing data out to a plain text file, and saving a serialized object.</p>
<div id="writing-out-tabular-plain-text-data-in-r" class="section level3" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> Writing Out Tabular Plain Text Data in R</h3>
<p>If you want to write out tabular data to a text file, use <code>write.table()</code> or <code>write.csv()</code>. There are two arguments that you must specify, at a minimum: the first argument is your R object (typically a <code>matrix</code> or <code>data.frame</code>), and the second argument is the file path on your hard drive.</p>
<p>Here is an example of writing out <code>d</code> to a file called <code>oring_out.csv</code>. I choose to include column names, but not row names. I also use commas to separate columns.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.table</span>(d, <span class="at">file =</span> <span class="st">&quot;data/oring_out.csv&quot;</span>, </span>
<span id="cb15-2"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb15-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">col.names =</span> <span class="cn">TRUE</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>, <span class="at">sep =</span> <span class="st">&quot;;&quot;</span>)</span></code></pre></div>
<p>The above will not print anything to the R console, but we can use a text editor to take a look at the raw text file on our hard drive. Here are the first three rows.</p>
<pre><code>&quot;V1&quot;;&quot;V2&quot;;&quot;V3&quot;;&quot;V4&quot;;&quot;V5&quot;
6;0;66;50;1
6;1;70;50;2</code></pre>
</div>
<div id="serialization-in-r" class="section level3" number="9.2.2">
<h3><span class="header-section-number">9.2.2</span> Serialization in R</h3>
<p>Alternatively you may choose to store your data in a <strong>serialized</strong> form. With this approach, you are still saving your data in a more permanent way to your hard drive, but it is stored in format that’s usually more memory efficient.</p>
<p>For instance, let’s save the object <code>d</code> in a file called <code>oring.rds</code>.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(d, <span class="at">file =</span> <span class="st">&quot;data/oring.rds&quot;</span>)</span>
<span id="cb17-2"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(d)</span>
<span id="cb17-3"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">exists</span>(<span class="st">&quot;d&quot;</span>)</span>
<span id="cb17-4"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE</span></span></code></pre></div>
<p>After it is saved with <code>saveRDS()</code>, we are free to delete the variable with <code>rm()</code>, because it can be read back in later on. To do this, call <code>readRDS()</code>. This is file has a special format that is recognized by R, so you will not need to worry about any of the usual struggles that occur when reading in data from a plain text file. Additionally, <code>.rds</code> files are typically smaller–<code>oring.rds</code> is only 248 bytes, while <code>oring_out.csv</code> is 332 bytes.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb18-1" aria-hidden="true" tabindex="-1"></a>d2 <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">&quot;data/oring.rds&quot;</span>)</span>
<span id="cb18-2"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(d2, <span class="dv">3</span>)</span>
<span id="cb18-3"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="do">##   V1 V2 V3 V4 V5</span></span>
<span id="cb18-4"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="do">## 1  6  0 66 50  1</span></span>
<span id="cb18-5"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 2  6  1 70 50  2</span></span>
<span id="cb18-6"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 3  6  0 69 50  3</span></span></code></pre></div>
<p>You can serialize multiple objects at once, too! Convention dictates that these files end with the <code>.RData</code> suffix. Save your entire global environment with <code>save()</code> or <code>save.image()</code>, and bring it back with <code>load()</code> or <code>attach()</code>.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list=</span><span class="fu">ls</span>()) <span class="co"># remove everything</span></span>
<span id="cb19-2"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb19-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb19-3"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb19-3" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb19-4"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="fu">save.image</span>(<span class="at">file =</span> <span class="st">&quot;data/my-current-workspace.RData&quot;</span>)</span>
<span id="cb19-5"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list=</span><span class="fu">ls</span>()) </span>
<span id="cb19-6"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/my-current-workspace.RData&quot;</span>)</span>
<span id="cb19-7"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>() <span class="co"># print all objects in your workspace</span></span>
<span id="cb19-8"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;a&quot; &quot;b&quot;</span></span></code></pre></div>
</div>
</div>
<div id="saving-data-in-python" class="section level2" number="9.3">
<h2><span class="header-section-number">9.3</span> Saving Data in Python</h2>
<div id="writing-out-tabular-plain-text-data-in-python" class="section level3" number="9.3.1">
<h3><span class="header-section-number">9.3.1</span> Writing Out Tabular Plain Text Data in Python</h3>
<p>You can write out tabular data with a variety of <a href="https://pandas.pydata.org/pandas-docs/stable/reference/io.html#input-output"><code>DataFrame</code> methods that are named <code>to_*()</code>.</a>. <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv"><code>pd.DataFrame.to_csv()</code></a> has a lot of common with <code>write.csv()</code> in R. Below we write out <code>d</code> to a file called <code>oring_out2.csv</code>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb20-2"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb20-2" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> pd.read_csv(<span class="st">&quot;data/o-ring-erosion-only.data&quot;</span>, header<span class="op">=</span><span class="va">None</span>, sep <span class="op">=</span> <span class="st">&quot;\s+&quot;</span>)</span>
<span id="cb20-3"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb20-3" aria-hidden="true" tabindex="-1"></a>d.to_csv(<span class="st">&quot;data/oring_out2.csv&quot;</span>, header<span class="op">=</span><span class="va">True</span>, index<span class="op">=</span><span class="va">False</span>, sep <span class="op">=</span> <span class="st">&quot;,&quot;</span>)</span></code></pre></div>
<p>Here is how the first few rows of that file looks in a text editor.</p>
<pre><code>0,1,2,3,4
6,0,66,50,1
6,1,70,50,2</code></pre>
</div>
<div id="serialization-in-python" class="section level3" number="9.3.2">
<h3><span class="header-section-number">9.3.2</span> Serialization in Python</h3>
<p>Serialization functionality is readily available in Python, just like it is in R. In Python, the <a href="https://docs.python.org/3/library/pickle.html"><code>pickle</code></a> and <code>cPickle</code> libraries are probably the most commonly used. Serializing objects with these libraries is known as <em>pickling</em> an object.</p>
<p>Pandas has a <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_pickle.html"><code>.to_pickle()</code></a> wrapper method attached to every <code>DataFrame</code>. Once the pickled object is saved, the file can be read back into Python with <a href="https://pandas.pydata.org/docs/reference/api/pandas.read_pickle.html#pandas.read_pickle"><code>pd.read_pickle()</code></a>. These functions are extremely convenient, because they call all the required <code>pickle</code> code and hide a decent amount of complexity.</p>
<p>Here is an example of writing out <code>d</code> and then reading the pickled object back in. In Python 3, the file suffix for pickled objects is usually <code>.pickle</code>, but there are many other choices.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb22-1" aria-hidden="true" tabindex="-1"></a>d.to_pickle(<span class="st">&quot;data/oring.pickle&quot;</span>)</span>
<span id="cb22-2"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="kw">del</span> d</span>
<span id="cb22-3"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb22-3" aria-hidden="true" tabindex="-1"></a>d_is_back <span class="op">=</span> pd.read_pickle(<span class="st">&quot;data/oring.pickle&quot;</span>)</span>
<span id="cb22-4"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb22-4" aria-hidden="true" tabindex="-1"></a>d_is_back.head(<span class="dv">2</span>)</span>
<span id="cb22-5"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co">##    0  1   2   3  4</span></span>
<span id="cb22-6"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co">## 0  6  0  66  50  1</span></span>
<span id="cb22-7"><a href="r-collapsetrue-readlinesdatamessage-txt.html#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co">## 1  6  1  70  50  2</span></span></code></pre></div>
<div class="rmd-caution">
<p>Unfortunately, <code>oring.pickle</code> is much larger (1,676 bytes) than the original text file <code>o-ring-erosion-only.data</code> (322 bytes). This is for two reasons. First, the original data set is small, so the overhead of pickling this object is relatively pronounced, and second, we are not taking advantage of any compression. If you use something like <code>d_is_back.to_pickle("data/oring.zip")</code> it will become smaller.</p>
</div>
<p>In Python, unlike in R, it is more difficult to serialize all of the objects you currently have in memory. It is possible, but it will likely require the use of a third-party library.</p>
<p>Speaking of third-party code, there are many that provide alternative serialization solutions in both R and Python. I do not discuss any in this text. However, I will mention that some of them may provide combinations of the following: an increase in read and write speed, a decrease in required memory, improved security<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>, improved human readability and interoperability between multiple programming languages. If any of these sound potentially beneficial, I encourage you to conduct further research.</p>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>The <a href="https://docs.python.org/2/library/pickle.html">documentation for <code>pickle</code></a> mentions that the library is “not secure against erroneous or maliciously constructed data” and recommends that you “[n]ever unpickle data received from an untrusted or unauthenticated source.”<a href="r-collapsetrue-readlinesdatamessage-txt.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="input-and-output.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="using-third-party-code.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/tbrown122387/r_and_python_book/edit/master/09-io.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
