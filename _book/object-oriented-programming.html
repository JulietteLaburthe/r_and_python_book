<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Object-Oriented Programming | An Introduction to R and Python For Data Analysis: a Side By Side Approach</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Object-Oriented Programming | An Introduction to R and Python For Data Analysis: a Side By Side Approach" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="tbrown122387/r_and_python_book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Object-Oriented Programming | An Introduction to R and Python For Data Analysis: a Side By Side Approach" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Taylor R. Brown" />


<meta name="date" content="2021-06-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="using-third-party-code.html"/>
<link rel="next" href="higher-level-concepts.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">An Introduction to R and Python For Data Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#about-this-book"><i class="fa fa-check"></i><b>1.1</b> About this book</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#conventions"><i class="fa fa-check"></i><b>1.2</b> Conventions</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#installing-the-required-software"><i class="fa fa-check"></i><b>1.3</b> Installing the Required Software</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>1.3.1</b> Installing R (and <code>RStudio</code>)</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#installing-python-by-installing-anaconda"><i class="fa fa-check"></i><b>1.3.2</b> Installing Python by Installing <code>Anaconda</code></a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#automatic-grading"><i class="fa fa-check"></i><b>1.4</b> Automatic Grading</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Getting Started</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#hello-world-in-r"><i class="fa fa-check"></i><b>2.1</b> Hello World in R</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#hello-world-in-python"><i class="fa fa-check"></i><b>2.2</b> Hello World in Python</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#getting-help"><i class="fa fa-check"></i><b>2.3</b> Getting Help</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="intro.html"><a href="intro.html#reading-documentation"><i class="fa fa-check"></i><b>2.3.1</b> Reading Documentation</a></li>
<li class="chapter" data-level="2.3.2" data-path="intro.html"><a href="intro.html#understanding-file-paths"><i class="fa fa-check"></i><b>2.3.2</b> Understanding File Paths</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#exercises"><i class="fa fa-check"></i><b>2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>3</b> Data Types</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-types.html"><a href="data-types.html#basic-types"><i class="fa fa-check"></i><b>3.1</b> Basic Types</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-types.html"><a href="data-types.html#in-python-1"><i class="fa fa-check"></i><b>3.1.1</b> In Python</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-types.html"><a href="data-types.html#in-r-1"><i class="fa fa-check"></i><b>3.1.2</b> In R</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-types.html"><a href="data-types.html#r-vectors-versus-numpy-arrays-and-pandas-series"><i class="fa fa-check"></i><b>3.2</b> R vectors versus <code>numpy</code> arrays (and Pandas <code>Series</code>)</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-types.html"><a href="data-types.html#overview-of-r"><i class="fa fa-check"></i><b>3.2.1</b> Overview of R</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-types.html"><a href="data-types.html#overview-of-python"><i class="fa fa-check"></i><b>3.2.2</b> Overview of Python</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-types.html"><a href="data-types.html#vectorization-in-r"><i class="fa fa-check"></i><b>3.2.3</b> Vectorization in R</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-types.html"><a href="data-types.html#vectorization-in-python"><i class="fa fa-check"></i><b>3.2.4</b> Vectorization in Python</a></li>
<li class="chapter" data-level="3.2.5" data-path="data-types.html"><a href="data-types.html#indexing-vectors-in-r"><i class="fa fa-check"></i><b>3.2.5</b> Indexing <code>vector</code>s in R</a></li>
<li class="chapter" data-level="3.2.6" data-path="data-types.html"><a href="data-types.html#indexing-numpy-arrays"><i class="fa fa-check"></i><b>3.2.6</b> Indexing Numpy arrays</a></li>
<li class="chapter" data-level="3.2.7" data-path="data-types.html"><a href="data-types.html#some-gotchas"><i class="fa fa-check"></i><b>3.2.7</b> Some Gotchas</a></li>
<li class="chapter" data-level="3.2.8" data-path="data-types.html"><a href="data-types.html#how-do-r-and-python-handle-missing-values"><i class="fa fa-check"></i><b>3.2.8</b> How do R and Python handle missing values?</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-types.html"><a href="data-types.html#numpys-ndarrays-versus-rs-matrices-and-arrays"><i class="fa fa-check"></i><b>3.3</b> Numpy’s <code>ndarray</code>s versus R’s matrices and arrays</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-types.html"><a href="data-types.html#in-python-2"><i class="fa fa-check"></i><b>3.3.1</b> In Python</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-types.html"><a href="data-types.html#in-r-2"><i class="fa fa-check"></i><b>3.3.2</b> In R</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-types.html"><a href="data-types.html#rs-lists-versus-pythons-lists-and-dictionaries"><i class="fa fa-check"></i><b>3.4</b> R’s lists versus Python’s lists and dictionaries</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="data-types.html"><a href="data-types.html#lists-in-r"><i class="fa fa-check"></i><b>3.4.1</b> Lists In R</a></li>
<li class="chapter" data-level="3.4.2" data-path="data-types.html"><a href="data-types.html#lists-in-python"><i class="fa fa-check"></i><b>3.4.2</b> Lists In Python</a></li>
<li class="chapter" data-level="3.4.3" data-path="data-types.html"><a href="data-types.html#dictionaries-in-python"><i class="fa fa-check"></i><b>3.4.3</b> Dictionaries In Python</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="data-types.html"><a href="data-types.html#user-defined-functions-in-r-and-python"><i class="fa fa-check"></i><b>3.5</b> User-defined functions in R and Python</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="data-types.html"><a href="data-types.html#defining-r-functions"><i class="fa fa-check"></i><b>3.5.1</b> Defining R Functions</a></li>
<li class="chapter" data-level="3.5.2" data-path="data-types.html"><a href="data-types.html#defining-python-functions"><i class="fa fa-check"></i><b>3.5.2</b> Defining Python Functions</a></li>
<li class="chapter" data-level="3.5.3" data-path="data-types.html"><a href="data-types.html#more-details-on-rs-user-defined-functions"><i class="fa fa-check"></i><b>3.5.3</b> More details on R’s user-defined functions</a></li>
<li class="chapter" data-level="3.5.4" data-path="data-types.html"><a href="data-types.html#more-details-on-pythons-user-defined-functions"><i class="fa fa-check"></i><b>3.5.4</b> More details on Python’s user-defined functions</a></li>
<li class="chapter" data-level="3.5.5" data-path="data-types.html"><a href="data-types.html#function-scope-in-r"><i class="fa fa-check"></i><b>3.5.5</b> Function Scope in R</a></li>
<li class="chapter" data-level="3.5.6" data-path="data-types.html"><a href="data-types.html#function-scope-in-python"><i class="fa fa-check"></i><b>3.5.6</b> Function Scope in Python</a></li>
<li class="chapter" data-level="3.5.7" data-path="data-types.html"><a href="data-types.html#dynamic-lookup"><i class="fa fa-check"></i><b>3.5.7</b> Dynamic Lookup</a></li>
<li class="chapter" data-level="3.5.8" data-path="data-types.html"><a href="data-types.html#modifying-a-functions-arguments"><i class="fa fa-check"></i><b>3.5.8</b> Modifying a Function’s Arguments</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="data-types.html"><a href="data-types.html#categorical-data"><i class="fa fa-check"></i><b>3.6</b> Categorical Data</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="data-types.html"><a href="data-types.html#categorical-data-in-r"><i class="fa fa-check"></i><b>3.6.1</b> Categorical Data in R</a></li>
<li class="chapter" data-level="3.6.2" data-path="data-types.html"><a href="data-types.html#categorical-data-in-python"><i class="fa fa-check"></i><b>3.6.2</b> Categorical Data in Python</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-types.html"><a href="data-types.html#data-frames"><i class="fa fa-check"></i><b>3.7</b> Data Frames</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="data-types.html"><a href="data-types.html#data-frames-in-r"><i class="fa fa-check"></i><b>3.7.1</b> Data Frames in R</a></li>
<li class="chapter" data-level="3.7.2" data-path="data-types.html"><a href="data-types.html#data-frames-in-python"><i class="fa fa-check"></i><b>3.7.2</b> Data Frames in Python</a></li>
<li class="chapter" data-level="3.7.3" data-path="data-types.html"><a href="data-types.html#row-names-and-indexes"><i class="fa fa-check"></i><b>3.7.3</b> Row Names and Indexes</a></li>
<li class="chapter" data-level="3.7.4" data-path="data-types.html"><a href="data-types.html#getting-versus-setting"><i class="fa fa-check"></i><b>3.7.4</b> Getting Versus Setting</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="data-types.html"><a href="data-types.html#exercises-1"><i class="fa fa-check"></i><b>3.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="using-third-party-code.html"><a href="using-third-party-code.html"><i class="fa fa-check"></i><b>4</b> Using Third-Party Code</a>
<ul>
<li class="chapter" data-level="4.0.1" data-path="using-third-party-code.html"><a href="using-third-party-code.html#installing-packages-in-r"><i class="fa fa-check"></i><b>4.0.1</b> Installing Packages In R</a></li>
<li class="chapter" data-level="4.0.2" data-path="using-third-party-code.html"><a href="using-third-party-code.html#installing-packages-in-python"><i class="fa fa-check"></i><b>4.0.2</b> Installing Packages In Python</a></li>
<li class="chapter" data-level="4.0.3" data-path="using-third-party-code.html"><a href="using-third-party-code.html#loading-packages-in-r"><i class="fa fa-check"></i><b>4.0.3</b> Loading Packages In R</a></li>
<li class="chapter" data-level="4.0.4" data-path="using-third-party-code.html"><a href="using-third-party-code.html#loading-packages-in-python"><i class="fa fa-check"></i><b>4.0.4</b> Loading Packages In Python</a></li>
<li class="chapter" data-level="4.1" data-path="using-third-party-code.html"><a href="using-third-party-code.html#exercises-2"><i class="fa fa-check"></i><b>4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="object-oriented-programming.html"><a href="object-oriented-programming.html"><i class="fa fa-check"></i><b>5</b> Object-Oriented Programming</a>
<ul>
<li class="chapter" data-level="5.1" data-path="object-oriented-programming.html"><a href="object-oriented-programming.html#oop-in-python"><i class="fa fa-check"></i><b>5.1</b> OOP In Python</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="object-oriented-programming.html"><a href="object-oriented-programming.html#overview"><i class="fa fa-check"></i><b>5.1.1</b> Overview</a></li>
<li class="chapter" data-level="5.1.2" data-path="object-oriented-programming.html"><a href="object-oriented-programming.html#a-first-example"><i class="fa fa-check"></i><b>5.1.2</b> A First Example</a></li>
<li class="chapter" data-level="5.1.3" data-path="object-oriented-programming.html"><a href="object-oriented-programming.html#adding-inheritance"><i class="fa fa-check"></i><b>5.1.3</b> Adding Inheritance</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="object-oriented-programming.html"><a href="object-oriented-programming.html#oop-in-r"><i class="fa fa-check"></i><b>5.2</b> OOP In R</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="object-oriented-programming.html"><a href="object-oriented-programming.html#s3-objects"><i class="fa fa-check"></i><b>5.2.1</b> S3 objects</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="object-oriented-programming.html"><a href="object-oriented-programming.html#exercises-3"><i class="fa fa-check"></i><b>5.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="higher-level-concepts.html"><a href="higher-level-concepts.html"><i class="fa fa-check"></i><b>6</b> Higher-Level Concepts</a>
<ul>
<li class="chapter" data-level="6.1" data-path="higher-level-concepts.html"><a href="higher-level-concepts.html#higher-order-programming-in-r"><i class="fa fa-check"></i><b>6.1</b> Higher-Order Programming in R</a></li>
<li class="chapter" data-level="6.2" data-path="higher-level-concepts.html"><a href="higher-level-concepts.html#reading-in-text-files"><i class="fa fa-check"></i><b>6.2</b> Reading In Text Files</a></li>
<li class="chapter" data-level="6.3" data-path="higher-level-concepts.html"><a href="higher-level-concepts.html#querying-a-database"><i class="fa fa-check"></i><b>6.3</b> Querying a Database</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="input-and-output.html"><a href="input-and-output.html"><i class="fa fa-check"></i><b>7</b> Input and Output</a>
<ul>
<li class="chapter" data-level="7.1" data-path="input-and-output.html"><a href="input-and-output.html#reading-in-text-files-1"><i class="fa fa-check"></i><b>7.1</b> Reading In Text Files</a></li>
<li class="chapter" data-level="7.2" data-path="input-and-output.html"><a href="input-and-output.html#querying-a-database-1"><i class="fa fa-check"></i><b>7.2</b> Querying a Database</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="combining-data-sets.html"><a href="combining-data-sets.html"><i class="fa fa-check"></i><b>8</b> Combining Data Sets</a></li>
<li class="chapter" data-level="9" data-path="control-structures.html"><a href="control-structures.html"><i class="fa fa-check"></i><b>9</b> Control Structures</a>
<ul>
<li class="chapter" data-level="9.1" data-path="control-structures.html"><a href="control-structures.html#exercises-4"><i class="fa fa-check"></i><b>9.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="visualization-and-plotting.html"><a href="visualization-and-plotting.html"><i class="fa fa-check"></i><b>10</b> Visualization and Plotting</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">An Introduction to R and Python For Data Analysis: a Side By Side Approach</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="object-oriented-programming" class="section level1" number="5">
<h1><span class="header-section-number">Chapter 5</span> Object-Oriented Programming</h1>
<p><strong>Object-Oriented Programming (OOP)</strong> is a way of thinking about how to organize programs. This way of thinking focuses on objects. We already know about objects from the last chapter, so what’s new here?</p>
<p>The difference is that we’re creating our own types now. In the last chapter we learned about built in types: floating point numbers, lists, arrays, functions, etc. Now we will discuss broadly how one can create his own types in both R and Python. We will not go into this too deeply, but it is important to know how how code works so that we can use it more effectively.</p>
<p>Here are a few abstract concepts that will help thinking about OOP. They are not mutually exclusive, and they aren’t unique to OOP, but understanding these words will help you understand the purpose of OOP. Later on, when we start looking at code examples, I will alert you to when these concepts are coming into play.</p>
<ul>
<li><p><strong>Composition</strong> refers to the idea when one type of object <em>contains</em> an object of another type. For example, a linear model object could hold onto estimated regression coefficients, residuals, etc.</p></li>
<li><p><strong>Inheritance</strong> takes place when an object can be considered to be of multiple types. For example, an analysis of variance linear regression model might be a special case of a general linear model.</p></li>
<li><p><strong>Polymorphism</strong> is the idea that the programmer can use the same code on objects of different types. For example, built-in functions in both R and Python can work on arguments of a wide variety of different types.</p></li>
<li><p><strong>Encapsulation</strong> is another word for complexity hiding. Do you have to understand every line of code in a package you’re using? No, because a lot of details are hidden from you.</p></li>
<li><p><strong>Modularity</strong> is an idea related to encapsulation–it means splitting something into independent pieces. How you split code into different files, different functions, different classes–all of that has to do with modularity. It promotes encapsulation, and it allows you to think about only a few lines of code at a time.</p></li>
<li><p>The <strong>interface</strong>, between you and the code you’re using, describes <em>what</em> can happen, but not <em>how</em> it happens. In other words, it describes some functionality so that you can decide whether you want to use it, but there are not enough details for you to make it work yourself. For example, all you have to do to be able to estimate a complicated statistical model is to look up some documentation.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> In other words, you only need to be familiar with the interface, not the implementation.</p></li>
<li><p>The <strong>implementation</strong> of some code you’re using describes <em>how</em> it works in detail. If you are a package author, you can change your code’s implementation “behind the scenes” and ideally, your end-users would never notice.</p></li>
</ul>
<p>Note that this is just a quick overview that is suitable for us as aspiring data scientists and statisticians. I should should mention that there are plenty of other resources available to you, if you’d like to learn more TODO</p>
<div id="oop-in-python" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> OOP In Python</h2>
<div id="overview" class="section level3" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Overview</h3>
<p>In Python, <a href="https://docs.python.org/3/tutorial/classes.html">classes</a> are user-defined types. When you define your own class, you describe what kind of information it holds onto, and how it behaves.</p>
<p>To define your own type, use the <a href="https://docs.python.org/3/tutorial/classes.html#class-definition-syntax"><code>class</code> keyword</a>. Objects created with this class are called <strong>instances</strong>. The behave according to the rules written in the class definition–they always have data and/or functions bundled together in the same way, but these instances do not all have the same data.</p>
<p>To be more clear, classes may have the following two things in their definition.</p>
<ul>
<li><p><strong>Attributes</strong> are pieces of data “owned” by an instance created by the class.</p></li>
<li><p><strong>(Instance) methods</strong> are functions “owned” by an instance created by the class. They can use and/or modify data belonging to the class.</p></li>
</ul>
</div>
<div id="a-first-example" class="section level3" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> A First Example</h3>
<p>Here’s a simple example. Say we are interested in calculating, from numerical data <span class="math inline">\(x_1, \ldots, x_n\)</span>, a sample mean:
<span class="math display">\[
\bar{x}_n = \frac{\sum_{i=1}^n x_i}{n}.
\]</span></p>
<p>In Python, we can calculate this one number very easily using <code>np.average</code>. However, this function requires that we pass into it all of the data. What if we don’t have all the data at any given time? In other words, suppose that the data arrive intermittently.</p>
<p>We might consider taking advantage of a recursive formula for the sample means.</p>
<p><span class="math display">\[
\bar{x}_n =  \frac{(n-1) \bar{x}_{n-1} + x_n}{n}
\]</span></p>
<p>How would we program this in Python? A first option: we might create a variable <code>my_running_ave</code>, and after every data point arrives, we could</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="object-oriented-programming.html#cb1-1" aria-hidden="true" tabindex="-1"></a>my_running_ave <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb1-2"><a href="object-oriented-programming.html#cb1-2" aria-hidden="true" tabindex="-1"></a>my_running_ave</span>
<span id="cb1-3"><a href="object-oriented-programming.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">## 1.0</span></span>
<span id="cb1-4"><a href="object-oriented-programming.html#cb1-4" aria-hidden="true" tabindex="-1"></a>my_running_ave <span class="op">=</span> ((<span class="dv">2</span><span class="op">-</span><span class="dv">1</span>)<span class="op">*</span>my_running_ave <span class="op">+</span> <span class="fl">3.0</span>)<span class="op">/</span><span class="dv">2</span></span>
<span id="cb1-5"><a href="object-oriented-programming.html#cb1-5" aria-hidden="true" tabindex="-1"></a>my_running_ave</span>
<span id="cb1-6"><a href="object-oriented-programming.html#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">## 2.0</span></span>
<span id="cb1-7"><a href="object-oriented-programming.html#cb1-7" aria-hidden="true" tabindex="-1"></a>my_running_ave <span class="op">=</span> ((<span class="dv">3</span><span class="op">-</span><span class="dv">1</span>)<span class="op">*</span>my_running_ave <span class="op">+</span> <span class="fl">2.0</span>)<span class="op">/</span><span class="dv">3</span></span>
<span id="cb1-8"><a href="object-oriented-programming.html#cb1-8" aria-hidden="true" tabindex="-1"></a>my_running_ave</span>
<span id="cb1-9"><a href="object-oriented-programming.html#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">## 2.0</span></span></code></pre></div>
<p>There are a few problems with this. Every time we add a data point, the formula slightly changes. Every time we update the average, we have to write a different line of code. This opens up the possibility for bugs, and it makes your code less likely to be used by other people and more difficult to understand. And if we were trying to code up something more complicated than a running average? That would make matters even worse.</p>
<p>A second option: write a class that holds onto the running average, and that has</p>
<ol style="list-style-type: decimal">
<li>an <code>update</code> method that updates the running average every time a new data point is received, and</li>
<li>a <code>get_current_xbar</code> method that gets the most up-to-date information for us.</li>
</ol>
<p>Our code would look like this:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="object-oriented-programming.html#cb2-1" aria-hidden="true" tabindex="-1"></a>my_ave <span class="op">=</span> RunningMean() <span class="co"># create running average object</span></span>
<span id="cb2-2"><a href="object-oriented-programming.html#cb2-2" aria-hidden="true" tabindex="-1"></a>my_ave.get_current_xbar() <span class="co"># no data yet!</span></span>
<span id="cb2-3"><a href="object-oriented-programming.html#cb2-3" aria-hidden="true" tabindex="-1"></a>my_ave.update(<span class="fl">1.</span>) <span class="co"># first data point</span></span>
<span id="cb2-4"><a href="object-oriented-programming.html#cb2-4" aria-hidden="true" tabindex="-1"></a>my_ave.get_current_xbar() <span class="co"># xbar_1</span></span>
<span id="cb2-5"><a href="object-oriented-programming.html#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">## 1.0</span></span>
<span id="cb2-6"><a href="object-oriented-programming.html#cb2-6" aria-hidden="true" tabindex="-1"></a>my_ave.update(<span class="fl">3.</span>)  <span class="co"># second data point</span></span>
<span id="cb2-7"><a href="object-oriented-programming.html#cb2-7" aria-hidden="true" tabindex="-1"></a>my_ave.get_current_xbar()  <span class="co">#xbar_2</span></span>
<span id="cb2-8"><a href="object-oriented-programming.html#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">## 2.0</span></span>
<span id="cb2-9"><a href="object-oriented-programming.html#cb2-9" aria-hidden="true" tabindex="-1"></a>my_ave.n   <span class="co"># my_ave.n instead of self.n</span></span>
<span id="cb2-10"><a href="object-oriented-programming.html#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">## 2</span></span></code></pre></div>
<p>That’s much better! Notice the <em>encapsulation</em>. Looking at this code we don’t need to think about the mathematical formula and the data being received. We only need to think about the latter. In other words, the <em>implementation</em> is separated from the <em>interface</em>. The interface in this case, is just the name of the class methods, and the arguments they expect. That’s all we need to know about to use this code.</p>
<p>Classes (obviously) need to be defined before they are used, so here is the definition of our class.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="object-oriented-programming.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> RunningMean:</span>
<span id="cb3-2"><a href="object-oriented-programming.html#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">&quot;&quot;&quot;Updates a running average&quot;&quot;&quot;</span></span>
<span id="cb3-3"><a href="object-oriented-programming.html#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb3-4"><a href="object-oriented-programming.html#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.current_xbar <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb3-5"><a href="object-oriented-programming.html#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.n <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb3-6"><a href="object-oriented-programming.html#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> update(<span class="va">self</span>, new_x):</span>
<span id="cb3-7"><a href="object-oriented-programming.html#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.n <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb3-8"><a href="object-oriented-programming.html#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.current_xbar <span class="op">=</span> (<span class="va">self</span>.current_xbar<span class="op">*</span>(<span class="va">self</span>.n <span class="op">-</span> <span class="dv">1</span>) <span class="op">+</span> new_x) <span class="op">/</span> <span class="va">self</span>.n</span>
<span id="cb3-9"><a href="object-oriented-programming.html#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> get_current_xbar(<span class="va">self</span>):</span>
<span id="cb3-10"><a href="object-oriented-programming.html#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="va">self</span>.n <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb3-11"><a href="object-oriented-programming.html#cb3-11" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb3-12"><a href="object-oriented-programming.html#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-13"><a href="object-oriented-programming.html#cb3-13" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="va">self</span>.current_xbar</span></code></pre></div>
<div class="rmd-details">
<p>
Methods that look like <code>__init__</code>, or that possess names that begin and end with two underscores, are called <strong>dunder (double underscore) methods</strong>, <strong>special methods</strong> or <strong>magic methods</strong>. There are many that you can take advantage of! For more information see <a href="https://docs.python.org/3/reference/datamodel.html#special-method-names">this</a>.
</p>
</div>
<p>Here are the details of the class definition:</p>
<ol style="list-style-type: decimal">
<li><p>Defining class methods looks exactly like defining functions! The primary difference is that the first argument must be <code>self</code>. If the definition of a method refers to <code>self</code>, then this allows the class instance to refer to its own (heretofore undefined) data attributes. Also, these method definitions are indented inside the definition of the class.</p></li>
<li><p>This class creates two data attributes. One to represent the number of data points seen up to now (<code>n</code>), and another to represent the current running average (<code>current_xbar</code>).</p></li>
<li><p>Referring to data members requires dot notation. <code>self.n</code> refers to the <code>n</code> belonging to any instance. This data attribute is free to vary between all the objects instantiated by this class.</p></li>
<li><p>The <code>__init__</code> method performs the setup operations that are performed every time any object is instantiated.</p></li>
<li><p>The <code>update</code> method provides the core functionality using the recursive formula displayed above.</p></li>
<li><p><code>get_current_xbar</code> simply returns the current average. In the case that this function is called before any data has been seen, it returns <code>None</code>.</p></li>
</ol>
<p>A few things you might find interesting:</p>
<ol style="list-style-type: decimal">
<li><p>Computationally, there is never any requirement that we must hold <em>all</em> of the data points in memory. Our data set could be infinitely large, and our class will hold onto only one floating point number, and one integer.</p></li>
<li><p>This example is generalizable to other statistical methods. In a mathematical statistics course, you will learn about a large class of models having <em>sufficient statistics</em>. Most sufficient statistics have recursive formulas like the one above. Second, many algorithms in <em>time series analysis</em> have recursive formulas and are often needed to analyze large streams of data. They can all be wrapped into a class in a way that is similar to the above example.</p></li>
</ol>
</div>
<div id="adding-inheritance" class="section level3" number="5.1.3">
<h3><span class="header-section-number">5.1.3</span> Adding Inheritance</h3>
<p>Last, we’ll talk about inheritance. In my opinion, it isn’t a critical data analysis tool. However, it is helpful to understand a little bit about Python’s inheritance so that we can compare it to R’s inheritance system.</p>
<p>Let’s suppose I assume that the data points <span class="math inline">\(x_1, \ldots, x_n\)</span> are a “random sample”<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> from a normal distibution with mean <span class="math inline">\(\mu\)</span> and variance <span class="math inline">\(\sigma^2=1\)</span>. <span class="math inline">\(\mu\)</span> is assumed to be unknown (this is, after all, and interval for <span class="math inline">\(\mu\)</span>), and <span class="math inline">\(\sigma^2\)</span> is assumed to be known, for simplicity.</p>
<p>A <span class="math inline">\(95\%\)</span> confidence interval for the true unknown population mean <span class="math inline">\(\mu\)</span> is
<span class="math display">\[
\left[\bar{x} - 1.96 \sqrt{\frac{\sigma^2}{n}}, \bar{x} + 1.96 \sqrt{\frac{\sigma^2}{n}} \right]
\]</span>
The width of the interval shrinks as we get more data (as <span class="math inline">\(n \to \infty\)</span>). We can write another class that, not only calculates the center of this interval, <span class="math inline">\(\bar{x}\)</span>, but also returns the interval endpoints.</p>
<p>If we wrote another class from scratch, then we would need to rewrite a lot of the code that we already have in the definition of <code>RunningMean</code>. Instead, we’ll use the idea of <a href="https://docs.python.org/3/tutorial/classes.html#inheritance"><em>inheritance</em></a>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="object-oriented-programming.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb4-2"><a href="object-oriented-programming.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> RunningCI(RunningMean):</span>
<span id="cb4-3"><a href="object-oriented-programming.html#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">&quot;&quot;&quot;Updates a running average and gives you a known-variance confidence interval&quot;&quot;&quot;</span></span>
<span id="cb4-4"><a href="object-oriented-programming.html#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, known_var):</span>
<span id="cb4-5"><a href="object-oriented-programming.html#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">super</span>().<span class="fu">__init__</span>()</span>
<span id="cb4-6"><a href="object-oriented-programming.html#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.known_var <span class="op">=</span> known_var</span>
<span id="cb4-7"><a href="object-oriented-programming.html#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> get_current_interval(<span class="va">self</span>):</span>
<span id="cb4-8"><a href="object-oriented-programming.html#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="va">self</span>.n <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb4-9"><a href="object-oriented-programming.html#cb4-9" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb4-10"><a href="object-oriented-programming.html#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb4-11"><a href="object-oriented-programming.html#cb4-11" aria-hidden="true" tabindex="-1"></a>      half_width <span class="op">=</span> <span class="fl">1.96</span> <span class="op">*</span> np.sqrt(<span class="va">self</span>.known_var <span class="op">/</span> <span class="va">self</span>.n)  </span>
<span id="cb4-12"><a href="object-oriented-programming.html#cb4-12" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> np.array([<span class="va">self</span>.current_xbar <span class="op">-</span> half_width, <span class="va">self</span>.current_xbar <span class="op">+</span> half_width])</span></code></pre></div>
<p>The parentheses in the first line signal that this new class definition is inheriting from <code>RunningMean</code>. Inside the definition of this new class, when I refer to <code>self.current_xbar</code> it knows what I’m talking about because these are defined in the base class. Last, I am using <code>super()</code> to access the parent class, which lets me use the parent class’ methods, such as <code>__init__</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="object-oriented-programming.html#cb5-1" aria-hidden="true" tabindex="-1"></a>my_ci <span class="op">=</span> RunningCI(<span class="dv">1</span>) <span class="co"># create running average object</span></span>
<span id="cb5-2"><a href="object-oriented-programming.html#cb5-2" aria-hidden="true" tabindex="-1"></a>my_ci.get_current_xbar() <span class="co"># no data yet!</span></span>
<span id="cb5-3"><a href="object-oriented-programming.html#cb5-3" aria-hidden="true" tabindex="-1"></a>my_ci.update(<span class="fl">1.</span>) </span>
<span id="cb5-4"><a href="object-oriented-programming.html#cb5-4" aria-hidden="true" tabindex="-1"></a>my_ci.get_current_interval() </span>
<span id="cb5-5"><a href="object-oriented-programming.html#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">## array([-0.96,  2.96])</span></span>
<span id="cb5-6"><a href="object-oriented-programming.html#cb5-6" aria-hidden="true" tabindex="-1"></a>my_ci.update(<span class="fl">3.</span>)  </span>
<span id="cb5-7"><a href="object-oriented-programming.html#cb5-7" aria-hidden="true" tabindex="-1"></a>my_ci.get_current_interval()  </span>
<span id="cb5-8"><a href="object-oriented-programming.html#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">## array([0.61407071, 3.38592929])</span></span></code></pre></div>
<p>This example also demonstrates <strong>polymorphism.</strong> Polymorphism comes from the Greek for “many forms.” “Forms” means “type” or “class” in this case. If the same code (usually a function or method) works on objects of different types, that’s polymorphic. Here, the <code>update</code> method worked on an object of class <code>RunningCI</code>, as well as an object of <code>RunningMean</code>.</p>
<p>Why is this useful? Consider this example.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="object-oriented-programming.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> datum <span class="kw">in</span> time_series:</span>
<span id="cb6-2"><a href="object-oriented-programming.html#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> thing <span class="kw">in</span> obj_list:</span>
<span id="cb6-3"><a href="object-oriented-programming.html#cb6-3" aria-hidden="true" tabindex="-1"></a>    thing.update(xt)</span></code></pre></div>
<p>Inside the inner <code>for</code> loop, there is no need for include conditional logic that tests for what kind of type each <code>thing</code> is. We can iterate through time more succinctly.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="object-oriented-programming.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> datum <span class="kw">in</span> time_series:</span>
<span id="cb7-2"><a href="object-oriented-programming.html#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> thing <span class="kw">in</span> obj_list:</span>
<span id="cb7-3"><a href="object-oriented-programming.html#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">isinstance</span>(thing, class1):</span>
<span id="cb7-4"><a href="object-oriented-programming.html#cb7-4" aria-hidden="true" tabindex="-1"></a>      thing.updatec1(xt)</span>
<span id="cb7-5"><a href="object-oriented-programming.html#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">isinstance</span>(thing, class2):</span>
<span id="cb7-6"><a href="object-oriented-programming.html#cb7-6" aria-hidden="true" tabindex="-1"></a>      thing.updatec2(xt)</span>
<span id="cb7-7"><a href="object-oriented-programming.html#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">isinstance</span>(thing, class3):</span>
<span id="cb7-8"><a href="object-oriented-programming.html#cb7-8" aria-hidden="true" tabindex="-1"></a>      thing.updatec3(xt)</span>
<span id="cb7-9"><a href="object-oriented-programming.html#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">isinstance</span>(thing, class4):</span>
<span id="cb7-10"><a href="object-oriented-programming.html#cb7-10" aria-hidden="true" tabindex="-1"></a>      thing.updatec4(xt)</span>
<span id="cb7-11"><a href="object-oriented-programming.html#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">isinstance</span>(thing, class5):</span>
<span id="cb7-12"><a href="object-oriented-programming.html#cb7-12" aria-hidden="true" tabindex="-1"></a>      thing.updatec5(xt)</span>
<span id="cb7-13"><a href="object-oriented-programming.html#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">isinstance</span>(thing, class6):</span>
<span id="cb7-14"><a href="object-oriented-programming.html#cb7-14" aria-hidden="true" tabindex="-1"></a>      thing.updatec6(xt)</span></code></pre></div>
<p>If, in the future, you add a new class called <code>class7</code>, then you need to change this inner <code>for</code> loop, as well as provide new code for the class.</p>
</div>
</div>
<div id="oop-in-r" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> OOP In R</h2>
<p>R, unlike Python, has many different kinds of classes. In R, there is not only one way to make a class. There are many! For simplicity, I will only discuss <code>S3</code> and <code>S4</code> classes. <code>S4</code> classes are more similar to Python’s classes, but I will describe <code>S3</code> classes first, as they are simpler and form the base of how <code>S4</code> classes work.</p>
<p>Regardless of whether you’re using <code>S3</code> or <code>S4</code> classes, class methods are not <em>owned</em> by a class like they are in Python. Instead, “high-level” functions, that an end-user is more likely to be using, will look at its input, and choose the most appropriate function to call, based on what kind of type the input has. In Python, another function will choose another function to work on can be associated to different classes but in a different way than how it works in Python.</p>
<p>The primary goal of R’s OOP is <em>polymorphism</em>. We want functions like <code>print</code>, <code>summary</code> and <code>plot</code> to behave differently when objects of a different type are passed in to them. Printing a linear model should look a lot different than printing a data frame, right?</p>
<div id="s3-objects" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> S3 objects</h3>
<p>An object may or may not have a set of <a href="https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Attributes"><strong>attributes</strong></a>, which are a collection of name/value pairs that give a particular object extra functionality. Regular <code>vector</code>s in R don’t have attributes (e.g. try running <code>attributes(1:3)</code>), but objects that are “embellished” versions of a <code>vector</code> might (e.g. run <code>attributes(factor(1:3))</code> and <code>attributes(matrix(1:4))</code>).</p>
<p>S3 objects have a <code>class</code> attribute that is set. This is the attribute that is used for method dispatch. Not all objects are S3 objects, though. To find out if an object <code>x</code> is an S3 object, use <code>is.object(x)</code>.</p>
<div class="rmd-caution">
<p>
<code>class</code> will return misleading results if it’s called on an object that isn’t an S3 object. Make sure to check with <code>is.object</code> first.
</p>
</div>
<p>A <a href="https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Method-dispatching"><strong>generic function</strong></a> is a function that looks at the type of its first argument, and then calls a specialized function depending on what type it is. Not all functions in <code>R</code> are generic, but some are. <code>print</code>, <code>summary</code> and <code>plot</code> are the most famous generic functions.</p>
<p>The programmer using these generic functions is using an <em>interface</em>. There is a smaller barrier to entry for using this function, because he does not need to concern himself with the details going on behind the scenes.</p>
<p>Again, <code>plot</code> is a generic function, so let’s look at its definition.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="object-oriented-programming.html#cb8-1" aria-hidden="true" tabindex="-1"></a>plot</span></code></pre></div>
<pre><code>## function (x, y, ...) 
## UseMethod(&quot;plot&quot;)
## &lt;bytecode: 0x7fcc1b341da8&gt;
## &lt;environment: namespace:base&gt;</code></pre>
<p>The body of this function is only one-line. It calls another function called <code>UseMethod</code>. That’s it.</p>
<p>A <strong>method</strong> is a specialized function that gets chosen by the generic function for a particular type of input. The method is the <em>implementation</em>. When the generic function chooses a particular method, this is called <strong>method dispatch</strong>. You can see the methods that are available for the generic function <code>plot</code> by typing the following.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="object-oriented-programming.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">methods</span>(plot)</span></code></pre></div>
<pre><code>##  [1] plot.acf*           plot.data.frame*    plot.decomposed.ts*
##  [4] plot.default        plot.dendrogram*    plot.density*      
##  [7] plot.ecdf           plot.factor*        plot.formula*      
## [10] plot.function       plot.hclust*        plot.histogram*    
## [13] plot.HoltWinters*   plot.isoreg*        plot.lm*           
## [16] plot.medpolish*     plot.mlm*           plot.numpy.ndarray*
## [19] plot.ppr*           plot.prcomp*        plot.princomp*     
## [22] plot.profile.nls*   plot.raster*        plot.shingle*      
## [25] plot.spec*          plot.stepfun        plot.stl*          
## [28] plot.table*         plot.trellis*       plot.ts            
## [31] plot.tskernel*      plot.TukeyHSD*     
## see &#39;?methods&#39; for accessing help and source code</code></pre>
<p>All of the methods share the same naming convention. Their name has the generic function’s name as a prefix, then a dot (<code>.</code>), then the name of the class that they are specifically written to be used with.</p>
<p>As an example, let’s try to <code>plot</code> some specific objects.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="object-oriented-programming.html#cb12-1" aria-hidden="true" tabindex="-1"></a>aDF <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>), <span class="at">nrow =</span> <span class="dv">10</span>))</span>
<span id="cb12-2"><a href="object-oriented-programming.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.object</span>(aDF) <span class="co"># is this s3?</span></span>
<span id="cb12-3"><a href="object-oriented-programming.html#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span>
<span id="cb12-4"><a href="object-oriented-programming.html#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(aDF)</span>
<span id="cb12-5"><a href="object-oriented-programming.html#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;data.frame&quot;</span></span>
<span id="cb12-6"><a href="object-oriented-programming.html#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(aDF)</span></code></pre></div>
<p><img src="r_and_python_book_files/figure-html/unnamed-chunk-13-1.png" width="50%" /></p>
<p>Because <code>aDF</code> has <code>class</code> set to <code>data.frame</code>, this causes <code>plot</code> to try to find a <code>plot.data.frame</code> method. If this method was not found, R would attempt to find/use a <code>plot.default</code> method. If no default method existed, an error would be thrown.</p>
<p>Next, we’ll play around with objects created with the <code>ecdf</code> function. This function computes an <em>empirical cumulative distribution function</em>, which takes a real number as an input, and outputs the proportion of observations that are less than or equal to that input<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="object-oriented-programming.html#cb13-1" aria-hidden="true" tabindex="-1"></a>myECDF <span class="ot">&lt;-</span> <span class="fu">ecdf</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>))</span>
<span id="cb13-2"><a href="object-oriented-programming.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.object</span>(myECDF)</span>
<span id="cb13-3"><a href="object-oriented-programming.html#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span>
<span id="cb13-4"><a href="object-oriented-programming.html#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(myECDF)</span>
<span id="cb13-5"><a href="object-oriented-programming.html#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;ecdf&quot;     &quot;stepfun&quot;  &quot;function&quot;</span></span>
<span id="cb13-6"><a href="object-oriented-programming.html#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(myECDF)</span></code></pre></div>
<p><img src="r_and_python_book_files/figure-html/unnamed-chunk-14-1.png" width="50%" /></p>
<p>This is how <em>inheritance</em> works in R. It’s much simpler than it was in Python! The <code>ecdf</code> class inherits from the <code>stepfun</code> class, which in turn inherits from the <code>function</code> class. When you call <code>plot(myECDF)</code>, ultimately <code>plot.ecdf</code> is used on this object.</p>
<div class="rmd-caution">
<p>
R’s dot-notation is nothing like Python’s dot-notation! In R, functions do not <em>belong</em> to types/classes like they do in Python!
</p>
</div>
<p>It is easy to get and set this attribute yourself, so creating an S3 class is as easy as setting a character string. Admittedly, you won’t need to do this very often. However, if for instance you are writing an R package, you might have functions return objects of a special/custom S3 class. Here is an example of creating an object of <code>CoolClass</code>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="object-oriented-programming.html#cb14-1" aria-hidden="true" tabindex="-1"></a>myThing <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb14-2"><a href="object-oriented-programming.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(myThing)</span>
<span id="cb14-3"><a href="object-oriented-programming.html#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="do">## NULL</span></span>
<span id="cb14-4"><a href="object-oriented-programming.html#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(myThing) <span class="ot">&lt;-</span> <span class="st">&quot;CoolClass&quot;</span></span>
<span id="cb14-5"><a href="object-oriented-programming.html#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(myThing) <span class="co"># also try class(myThing)</span></span>
<span id="cb14-6"><a href="object-oriented-programming.html#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="do">## $class</span></span>
<span id="cb14-7"><a href="object-oriented-programming.html#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;CoolClass&quot;</span></span></code></pre></div>
<p><code>myThing</code> is now an instance of <code>CoolClass</code>, even though I never defined what a <code>CoolClass</code> was ahead of time. If you’re used to Python, this should seem very strange. Compared to Python, this approach is very flexible, but also, kind of dangerous, because you can change the <code>class</code>es of existing objects.</p>
<p>If you are writing a package, and you are returning results as an S3 object, you can write your own methods associated with these objects. That way, when a user of your package uses typical generic functions, such as <code>summary</code>, you can control what interesting things will happen to the user of your package.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="object-oriented-programming.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(myThing)</span>
<span id="cb15-2"><a href="object-oriented-programming.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;No summary available!&quot;</span></span>
<span id="cb15-3"><a href="object-oriented-programming.html#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Cool Classes are too cool for summaries!&quot;</span></span>
<span id="cb15-4"><a href="object-oriented-programming.html#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;:)&quot;</span></span></code></pre></div>
<p>The <code>summary</code> method I wrote for this class is the following.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="object-oriented-programming.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the user does not see this function</span></span>
<span id="cb16-2"><a href="object-oriented-programming.html#cb16-2" aria-hidden="true" tabindex="-1"></a>summary.CoolClass <span class="ot">&lt;-</span> <span class="cf">function</span>(object,...){</span>
<span id="cb16-3"><a href="object-oriented-programming.html#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Cool Classes are too cool for summaries!&quot;</span>)</span>
<span id="cb16-4"><a href="object-oriented-programming.html#cb16-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>An S3 object is</p>
<p><a href="https://cran.r-project.org/doc/manuals/R-lang.html#Object_002doriented-programming" class="uri">https://cran.r-project.org/doc/manuals/R-lang.html#Object_002doriented-programming</a></p>
<p><a href="https://adv-r.hadley.nz/oo.html" class="uri">https://adv-r.hadley.nz/oo.html</a></p>
</div>
</div>
<div id="exercises-3" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Exercises</h2>
<p>All answers to questions related to R should be written in a file named <code>data_types_exercises.R</code>. All answers to questions related to Python should be written in a file named <code>data_types_exercises.py</code>.</p>
<ol style="list-style-type: decimal">
<li><p>In Python, write a class that implements a running sample variance.`</p></li>
<li><p>In Python, write a class that estimates a linear regression model.</p></li>
</ol>
<p>Let</p>
<ul>
<li>Let <span class="math inline">\(\begin{bmatrix}x_1 \\ x_2 \\ \vdots \\ x_{10} \end{bmatrix}\)</span> be a <span class="math inline">\(10 \times 1\)</span> vector of predictor variables.</li>
<li><span class="math inline">\(\mathbf{X} = \begin{bmatrix} 1 &amp; x_1 \\ 1 &amp; x_2 \\ \vdots &amp; \vdots \\ 1 &amp; x_{10} \end{bmatrix}\)</span> be a <span class="math inline">\(10 \times 2\)</span> “design matrix,”</li>
<li><span class="math inline">\(\mathbf{y} = \begin{bmatrix} y_1 \\ y_2 \\ \vdots \\ y_{10} \end{bmatrix}\)</span> be a <span class="math inline">\(10 \times 1\)</span> vector of dependent observations, and</li>
<li><span class="math inline">\(\boldsymbol{\epsilon} = \begin{bmatrix} \epsilon_1 \\ \epsilon_2 \\ \vdots \\ \epsilon_{10} \end{bmatrix}\)</span> be a <span class="math inline">\(10 \times 1\)</span> vector of mean <span class="math inline">\(0\)</span> random errors. The assumed regression model can be written as</li>
</ul>
<p><span class="math display">\[
\mathbf{y} = 
\mathbf{X}\boldsymbol{\beta} + \boldsymbol{\epsilon},
\]</span>
and the estimate for the coefficient vector can be written as
<span class="math display">\[
\hat{\boldsymbol{\beta}} = \left(\mathbf{X}^\intercal \mathbf{X} \right)^{-1}\mathbf{X}^\intercal \mathbf{y}.
\]</span></p>
<ul>
<li>Make the class called <code>LinearModel</code>, and use only the numpy package</li>
<li>have the only attribute be a numpy array of estimated coefficients <code>coeffs</code></li>
<li>have one method called <code>fit</code> that takes a numpy arrays <code>X</code> (the design matrix), and <code>y</code></li>
<li>every time <code>fit</code> is called, reset the <code>coeffs</code> using the formula above</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="object-oriented-programming.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb17-2"><a href="object-oriented-programming.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb17-3"><a href="object-oriented-programming.html#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="object-oriented-programming.html#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># don&#39;t hardcode variables!</span></span>
<span id="cb17-5"><a href="object-oriented-programming.html#cb17-5" aria-hidden="true" tabindex="-1"></a>num_rows <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb17-6"><a href="object-oriented-programming.html#cb17-6" aria-hidden="true" tabindex="-1"></a>num_predictors <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb17-7"><a href="object-oriented-programming.html#cb17-7" aria-hidden="true" tabindex="-1"></a>num_x_columns <span class="op">=</span> num_predictors <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb17-8"><a href="object-oriented-programming.html#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="object-oriented-programming.html#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co"># generate fake data </span></span>
<span id="cb17-10"><a href="object-oriented-programming.html#cb17-10" aria-hidden="true" tabindex="-1"></a>true_coefficients <span class="op">=</span> np.array([<span class="dv">1</span>,<span class="op">-</span><span class="dv">3</span>]).reshape((num_x_columns,<span class="dv">1</span>))</span>
<span id="cb17-11"><a href="object-oriented-programming.html#cb17-11" aria-hidden="true" tabindex="-1"></a>x_array <span class="op">=</span> np.empty((num_rows, num_x_columns))</span>
<span id="cb17-12"><a href="object-oriented-programming.html#cb17-12" aria-hidden="true" tabindex="-1"></a>x_array[:,<span class="dv">0</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb17-13"><a href="object-oriented-programming.html#cb17-13" aria-hidden="true" tabindex="-1"></a>x_array[:,<span class="dv">1</span>] <span class="op">=</span> np.random.normal(size<span class="op">=</span>num_rows)</span>
<span id="cb17-14"><a href="object-oriented-programming.html#cb17-14" aria-hidden="true" tabindex="-1"></a>y_array <span class="op">=</span> np.dot(x_array, true_coefficients) </span>
<span id="cb17-15"><a href="object-oriented-programming.html#cb17-15" aria-hidden="true" tabindex="-1"></a>y_array <span class="op">=</span> y_array <span class="op">+</span> np.random.normal(scale <span class="op">=</span> <span class="fl">.3</span>, size <span class="op">=</span> num_rows).reshape((num_rows,<span class="dv">1</span>))</span>
<span id="cb17-16"><a href="object-oriented-programming.html#cb17-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-17"><a href="object-oriented-programming.html#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="co"># plot fake data </span></span>
<span id="cb17-18"><a href="object-oriented-programming.html#cb17-18" aria-hidden="true" tabindex="-1"></a>plt.scatter(x_array[:,<span class="dv">1</span>], y_array)</span></code></pre></div>
<p><img src="r_and_python_book_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<p>Here is an example class definition, and then its use. The class holds onto</p>
<ol start="3" style="list-style-type: decimal">
<li><p>Come up with a list of Python classes that are written in third party libraries, and that you will find useful in the future!</p></li>
<li><p>Come up with a list of R classes that are written in third party libraries, and that you will find useful in the future!</p></li>
</ol>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Just because you can do this, doesn’t mean you <em>should</em>, though!<a href="object-oriented-programming.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Otherwise known as an independent and identically distributed sample<a href="object-oriented-programming.html#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>It’s defined as <span class="math inline">\(\hat{F}(x) = \frac{1}{n}\sum_{i=1}^n \mathbf{1}(X_i \le x)\)</span>.<a href="object-oriented-programming.html#fnref3" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="using-third-party-code.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="higher-level-concepts.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/tbrown122387/r_and_python_book/edit/master/04-object_oriented_programming.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["r_and_python_book.pdf", "r_and_python_book.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
